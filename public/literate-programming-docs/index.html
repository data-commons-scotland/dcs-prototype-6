<!DOCTYPE html>
<html><head><meta charset="UTF-8"><meta content="width=device-width, initial-scale=1" name="viewport"><link href="https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/katex.min.css" rel="stylesheet" type="text/css"><link href="https://storage.googleapis.com/nextjournal-cas-eu/data/8VxQBDwk3cvr1bt8YVL5m6bJGrFEmzrSbCrH1roypLjJr4AbbteCKh9Y6gQVYexdY85QA2HG5nQFLWpRp69zFSPDJ9" rel="stylesheet" type="text/css"><link href="https://storage.googleapis.com/nextjournal-cas-eu/data/8VxoxUgsBRs2yjjBBcfeCc8XigM7erXHmjJg2tjdGxNBxwTYuDonuYswXqRStaCA2b3rTEPCgPwixJmAVrea1qAHHU" rel="stylesheet" type="text/css"><script src="https://storage.googleapis.com/nextjournal-cas-eu/data/8VujAQ3bHzgNYiC3C61DJwUmXP7xW6bB8tT92xAKhDyu5vXReakaHVSrqJfurggZdCJVuAf3B7AujNBvkJAcz974uH" type="text/javascript"></script>
  <style>
    .bg-white {
      --tw-bg-opacity: 0 !important; 
    }
      .mt-8.text-gray-400 {
      display: none !important;
    }
    h1 {
      display: none !important;
    }
    h2 {
      color: #BF5748 !important;
      font-weight: 600;
      font-size: larger;
    }
    a { text-decoration: underline; }
    a:hover { background: #A4CAC2; }
    </style>
</head><body><div id="clerk-static-app"></div><script>let viewer = nextjournal.clerk.sci_viewer
let app = nextjournal.clerk.static_app
let docs = viewer.read_string("{\"src/exploring_business_waste.clj\" {:nextjournal/value [{:nextjournal/value \" # Exploring Scotland's business waste data\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \" We are going to take the CSV data file\\n that describes the waste generated by businesses in Scotland during the last decade, \\n and walk through how to extract information from it\\n to provide a comparison between business sectors.\\n\\n _This walk-through is pitched at the data analyst beginner level.\\n We use the Clojure programming language,\\n but the steps taken would have be very similar if we'd have used R or Python._\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \" Firstly, load a couple of helper libraries.\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \"(ns exploring-business-waste\\n  (:require [tablecloth.api :as tc]\\n            [nextjournal.clerk.viewer :as v]))\", :nextjournal/viewer :code} {:nextjournal/value {:edn \"{:path [], :nextjournal/value nil, :nextjournal/viewer {:pred #function+ \\\"clojure.core/nil?\\\", :fn #function+ (fn [_] (v/html [:span.syntax-nil.inspected-value \\\"nil\\\"]))}}\"}, :nextjournal/viewer :clerk/inline-result} {:nextjournal/value \" ## Load the data\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \" The URL of Scotland's business waste data (including business sectors) in CSV format\\n (from the \\\"[Easier open data about waste in Scotland](https://github.com/data-commons-scotland/dcs-easier-open-data)\\\" repository).\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \"(def url \\\"https://raw.githubusercontent.com/data-commons-scotland/dcs-easier-open-data/v1.5-beta/data/business-waste-by-sector.csv\\\")\", :nextjournal/viewer :code} {:nextjournal/value {:edn \"{:path [], :nextjournal/value [\\\"https://raw.githubusercontent.com/data-commons-scotland/dcs-easier-open-data/v1.5-beta/data/business\\\" {:nextjournal/value {:path [], :count 120, :offset 100, :remaining 20}, :nextjournal/viewer :elision}], :replace-path [0], :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}}\"}, :nextjournal/viewer :clerk/inline-result} {:nextjournal/value \" Read the data into a column-oriented data structure\\n (that is similar to an R Data Frame or a Python Pandas DataFrame).\\n\\n _Browsing hint: Click on the underlined backets within following the outputs, to expand what is shown._\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \"(def DS (tc/dataset url {:key-fn keyword}))\", :nextjournal/viewer :code} {:nextjournal/value {:edn \"{:path [], :nextjournal/value [{:path [0], :nextjournal/value [{:path [0 0], :nextjournal/value :business-sector, :nextjournal/viewer {:pred #function+ \\\"clojure.core/keyword?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [0 1], :nextjournal/value [{:path [0 1 0], :nextjournal/value \\\"Water industry\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [0 1 1], :nextjournal/value \\\"Manufacture of wood products\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [0 1 2], :nextjournal/value \\\"Manufacture of chemicals, plastics and pharmaceuticals\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [0 1 3], :nextjournal/value \\\"Mining and quarrying\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [0 1 4], :nextjournal/value \\\"Commerce\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [0 1 5], :nextjournal/value \\\"Power industry\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [0 1 6], :nextjournal/value \\\"Other manufacturing\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [0 1 7], :nextjournal/value \\\"Waste management\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [0 1 8], :nextjournal/value \\\"Manufacture of food and beverage products\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [0 1 9], :nextjournal/value \\\"Agriculture, forestry and fishing\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [0 1 10], :nextjournal/value \\\"Water industry\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [0 1 11], :nextjournal/value \\\"Manufacture of wood products\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [0 1 12], :nextjournal/value \\\"Manufacture of chemicals, plastics and pharmaceuticals\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [0 1 13], :nextjournal/value \\\"Mining and quarrying\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [0 1 14], :nextjournal/value \\\"Commerce\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [0 1 15], :nextjournal/value \\\"Power industry\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [0 1 16], :nextjournal/value \\\"Other manufacturing\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [0 1 17], :nextjournal/value \\\"Waste management\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [0 1 18], :nextjournal/value \\\"Manufacture of food and beverage products\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [0 1 19], :nextjournal/value \\\"Agriculture, forestry and fishing\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:nextjournal/value {:count 2640, :offset 20, :path [0 1], :remaining 2620}, :nextjournal/viewer :elision}], :nextjournal/viewer {:pred #function+ \\\"clojure.core/sequential?\\\", :fn #function+ (partial v/coll-viewer {:open \\\"(\\\", :close \\\")\\\"}), :fetch-opts {:n 20}, :closing-parens (\\\")\\\")}}], :nextjournal/viewer {:pred #function+ \\\"clojure.core/map-entry?\\\", :name :map-entry, :fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [1], :nextjournal/value [{:path [1 0], :nextjournal/value :material, :nextjournal/viewer {:pred #function+ \\\"clojure.core/keyword?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [1 1], :nextjournal/value [{:path [1 1 0], :nextjournal/value \\\"Spent solvents\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [1 1 1], :nextjournal/value \\\"Spent solvents\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [1 1 2], :nextjournal/value \\\"Spent solvents\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [1 1 3], :nextjournal/value \\\"Spent solvents\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [1 1 4], :nextjournal/value \\\"Spent solvents\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [1 1 5], :nextjournal/value \\\"Spent solvents\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [1 1 6], :nextjournal/value \\\"Spent solvents\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [1 1 7], :nextjournal/value \\\"Spent solvents\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [1 1 8], :nextjournal/value \\\"Spent solvents\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [1 1 9], :nextjournal/value \\\"Spent solvents\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [1 1 10], :nextjournal/value \\\"Acid, alkaline or saline wastes\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [1 1 11], :nextjournal/value \\\"Acid, alkaline or saline wastes\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [1 1 12], :nextjournal/value \\\"Acid, alkaline or saline wastes\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [1 1 13], :nextjournal/value \\\"Acid, alkaline or saline wastes\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [1 1 14], :nextjournal/value \\\"Acid, alkaline or saline wastes\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [1 1 15], :nextjournal/value \\\"Acid, alkaline or saline wastes\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [1 1 16], :nextjournal/value \\\"Acid, alkaline or saline wastes\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [1 1 17], :nextjournal/value \\\"Acid, alkaline or saline wastes\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [1 1 18], :nextjournal/value \\\"Acid, alkaline or saline wastes\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [1 1 19], :nextjournal/value \\\"Acid, alkaline or saline wastes\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:nextjournal/value {:count 2640, :offset 20, :path [1 1], :remaining 2620}, :nextjournal/viewer :elision}], :nextjournal/viewer {:pred #function+ \\\"clojure.core/sequential?\\\", :fn #function+ (partial v/coll-viewer {:open \\\"(\\\", :close \\\")\\\"}), :fetch-opts {:n 20}, :closing-parens (\\\")\\\")}}], :nextjournal/viewer {:pred #function+ \\\"clojure.core/map-entry?\\\", :name :map-entry, :fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [2], :nextjournal/value [{:path [2 0], :nextjournal/value :tonnes, :nextjournal/viewer {:pred #function+ \\\"clojure.core/keyword?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [2 1], :nextjournal/value [{:path [2 1 0], :nextjournal/value 6, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [2 1 1], :nextjournal/value 6, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [2 1 2], :nextjournal/value 47047, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [2 1 3], :nextjournal/value 301, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [2 1 4], :nextjournal/value 65, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [2 1 5], :nextjournal/value 6, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [2 1 6], :nextjournal/value 10, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [2 1 7], :nextjournal/value 6, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [2 1 8], :nextjournal/value 6, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [2 1 9], :nextjournal/value 6, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [2 1 10], :nextjournal/value 1, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [2 1 11], :nextjournal/value 1, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [2 1 12], :nextjournal/value 2175, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [2 1 13], :nextjournal/value 111, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [2 1 14], :nextjournal/value 36, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [2 1 15], :nextjournal/value 1, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [2 1 16], :nextjournal/value 2398, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [2 1 17], :nextjournal/value 1, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [2 1 18], :nextjournal/value 1, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [2 1 19], :nextjournal/value 1, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:nextjournal/value {:count 2640, :offset 20, :path [2 1], :remaining 2620}, :nextjournal/viewer :elision}], :nextjournal/viewer {:pred #function+ \\\"clojure.core/sequential?\\\", :fn #function+ (partial v/coll-viewer {:open \\\"(\\\", :close \\\")\\\"}), :fetch-opts {:n 20}, :closing-parens (\\\")\\\")}}], :nextjournal/viewer {:pred #function+ \\\"clojure.core/map-entry?\\\", :name :map-entry, :fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [3], :nextjournal/value [{:path [3 0], :nextjournal/value :year, :nextjournal/viewer {:pred #function+ \\\"clojure.core/keyword?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [3 1], :nextjournal/value [{:path [3 1 0], :nextjournal/value 2018, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [3 1 1], :nextjournal/value 2018, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [3 1 2], :nextjournal/value 2018, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [3 1 3], :nextjournal/value 2018, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [3 1 4], :nextjournal/value 2018, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [3 1 5], :nextjournal/value 2018, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [3 1 6], :nextjournal/value 2018, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [3 1 7], :nextjournal/value 2018, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [3 1 8], :nextjournal/value 2018, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [3 1 9], :nextjournal/value 2018, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [3 1 10], :nextjournal/value 2018, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [3 1 11], :nextjournal/value 2018, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [3 1 12], :nextjournal/value 2018, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [3 1 13], :nextjournal/value 2018, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [3 1 14], :nextjournal/value 2018, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [3 1 15], :nextjournal/value 2018, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [3 1 16], :nextjournal/value 2018, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [3 1 17], :nextjournal/value 2018, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [3 1 18], :nextjournal/value 2018, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [3 1 19], :nextjournal/value 2018, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:nextjournal/value {:count 2640, :offset 20, :path [3 1], :remaining 2620}, :nextjournal/viewer :elision}], :nextjournal/viewer {:pred #function+ \\\"clojure.core/sequential?\\\", :fn #function+ (partial v/coll-viewer {:open \\\"(\\\", :close \\\")\\\"}), :fetch-opts {:n 20}, :closing-parens (\\\")\\\" \\\"}\\\")}}], :nextjournal/viewer {:pred #function+ \\\"clojure.core/map-entry?\\\", :name :map-entry, :fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:pred #function+ \\\"clojure.core/map?--5429\\\", :name :map, :fn #function+ v/map-viewer, :fetch-opts {:n 10}}}\"}, :nextjournal/viewer :clerk/inline-result} {:nextjournal/value \" Count the rows and columns.\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \"(tc/shape DS)\", :nextjournal/viewer :code} {:nextjournal/value {:edn \"{:path [], :nextjournal/value [{:path [0], :nextjournal/value 2640, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [1], :nextjournal/value 4, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:pred #function+ \\\"clojure.core/vector?--5431\\\", :fn #function+ (partial v/coll-viewer {:open \\\"[\\\", :close \\\"]\\\"}), :fetch-opts {:n 20}, :closing-parens (\\\"]\\\")}}\"}, :nextjournal/viewer :clerk/inline-result} {:nextjournal/value \" Get a further description of the data.\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \"(tc/info DS)\", :nextjournal/viewer :code} {:nextjournal/value {:edn \"{:path [], :nextjournal/value [{:path [0], :nextjournal/value [{:path [0 0], :nextjournal/value :col-name, :nextjournal/viewer {:pred #function+ \\\"clojure.core/keyword?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [0 1], :nextjournal/value [{:path [0 1 0], :nextjournal/value :business-sector, :nextjournal/viewer {:pred #function+ \\\"clojure.core/keyword?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [0 1 1], :nextjournal/value :material, :nextjournal/viewer {:pred #function+ \\\"clojure.core/keyword?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [0 1 2], :nextjournal/value :tonnes, :nextjournal/viewer {:pred #function+ \\\"clojure.core/keyword?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [0 1 3], :nextjournal/value :year, :nextjournal/viewer {:pred #function+ \\\"clojure.core/keyword?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:pred #function+ \\\"clojure.core/sequential?\\\", :fn #function+ (partial v/coll-viewer {:open \\\"(\\\", :close \\\")\\\"}), :fetch-opts {:n 20}, :closing-parens (\\\")\\\")}}], :nextjournal/viewer {:pred #function+ \\\"clojure.core/map-entry?\\\", :name :map-entry, :fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [1], :nextjournal/value [{:path [1 0], :nextjournal/value :datatype, :nextjournal/viewer {:pred #function+ \\\"clojure.core/keyword?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [1 1], :nextjournal/value [{:path [1 1 0], :nextjournal/value :string, :nextjournal/viewer {:pred #function+ \\\"clojure.core/keyword?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [1 1 1], :nextjournal/value :string, :nextjournal/viewer {:pred #function+ \\\"clojure.core/keyword?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [1 1 2], :nextjournal/value :int32, :nextjournal/viewer {:pred #function+ \\\"clojure.core/keyword?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [1 1 3], :nextjournal/value :int16, :nextjournal/viewer {:pred #function+ \\\"clojure.core/keyword?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:pred #function+ \\\"clojure.core/sequential?\\\", :fn #function+ (partial v/coll-viewer {:open \\\"(\\\", :close \\\")\\\"}), :fetch-opts {:n 20}, :closing-parens (\\\")\\\")}}], :nextjournal/viewer {:pred #function+ \\\"clojure.core/map-entry?\\\", :name :map-entry, :fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [2], :nextjournal/value [{:path [2 0], :nextjournal/value :first, :nextjournal/viewer {:pred #function+ \\\"clojure.core/keyword?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [2 1], :nextjournal/value [{:path [2 1 0], :nextjournal/value \\\"Water industry\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [2 1 1], :nextjournal/value \\\"Spent solvents\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [2 1 2], :nextjournal/value 6, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [2 1 3], :nextjournal/value 2018, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:pred #function+ \\\"clojure.core/sequential?\\\", :fn #function+ (partial v/coll-viewer {:open \\\"(\\\", :close \\\")\\\"}), :fetch-opts {:n 20}, :closing-parens (\\\")\\\")}}], :nextjournal/viewer {:pred #function+ \\\"clojure.core/map-entry?\\\", :name :map-entry, :fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [3], :nextjournal/value [{:path [3 0], :nextjournal/value :last, :nextjournal/viewer {:pred #function+ \\\"clojure.core/keyword?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [3 1], :nextjournal/value [{:path [3 1 0], :nextjournal/value \\\"Manufacture of chemicals, plastics and pharmaceuticals\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [3 1 1], :nextjournal/value \\\"Mineral wastes from waste treatment and stabilised wastes\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [3 1 2], :nextjournal/value 994, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [3 1 3], :nextjournal/value 2011, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:pred #function+ \\\"clojure.core/sequential?\\\", :fn #function+ (partial v/coll-viewer {:open \\\"(\\\", :close \\\")\\\"}), :fetch-opts {:n 20}, :closing-parens (\\\")\\\")}}], :nextjournal/viewer {:pred #function+ \\\"clojure.core/map-entry?\\\", :name :map-entry, :fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [4], :nextjournal/value [{:path [4 0], :nextjournal/value :max, :nextjournal/viewer {:pred #function+ \\\"clojure.core/keyword?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [4 1], :nextjournal/value [{:path [4 1 0], :nextjournal/value nil, :nextjournal/viewer {:pred #function+ \\\"clojure.core/nil?\\\", :fn #function+ (fn [_] (v/html [:span.syntax-nil.inspected-value \\\"nil\\\"]))}} {:path [4 1 1], :nextjournal/value nil, :nextjournal/viewer {:pred #function+ \\\"clojure.core/nil?\\\", :fn #function+ (fn [_] (v/html [:span.syntax-nil.inspected-value \\\"nil\\\"]))}} {:path [4 1 2], :nextjournal/value 1039179.0, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [4 1 3], :nextjournal/value 2018.0, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:pred #function+ \\\"clojure.core/sequential?\\\", :fn #function+ (partial v/coll-viewer {:open \\\"(\\\", :close \\\")\\\"}), :fetch-opts {:n 20}, :closing-parens (\\\")\\\")}}], :nextjournal/viewer {:pred #function+ \\\"clojure.core/map-entry?\\\", :name :map-entry, :fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [5], :nextjournal/value [{:path [5 0], :nextjournal/value :mean, :nextjournal/viewer {:pred #function+ \\\"clojure.core/keyword?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [5 1], :nextjournal/value [{:path [5 1 0], :nextjournal/value nil, :nextjournal/viewer {:pred #function+ \\\"clojure.core/nil?\\\", :fn #function+ (fn [_] (v/html [:span.syntax-nil.inspected-value \\\"nil\\\"]))}} {:path [5 1 1], :nextjournal/value nil, :nextjournal/viewer {:pred #function+ \\\"clojure.core/nil?\\\", :fn #function+ (fn [_] (v/html [:span.syntax-nil.inspected-value \\\"nil\\\"]))}} {:path [5 1 2], :nextjournal/value 10633.560984848486, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [5 1 3], :nextjournal/value 2014.5, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:pred #function+ \\\"clojure.core/sequential?\\\", :fn #function+ (partial v/coll-viewer {:open \\\"(\\\", :close \\\")\\\"}), :fetch-opts {:n 20}, :closing-parens (\\\")\\\")}}], :nextjournal/viewer {:pred #function+ \\\"clojure.core/map-entry?\\\", :name :map-entry, :fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [6], :nextjournal/value [{:path [6 0], :nextjournal/value :min, :nextjournal/viewer {:pred #function+ \\\"clojure.core/keyword?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [6 1], :nextjournal/value [{:path [6 1 0], :nextjournal/value nil, :nextjournal/viewer {:pred #function+ \\\"clojure.core/nil?\\\", :fn #function+ (fn [_] (v/html [:span.syntax-nil.inspected-value \\\"nil\\\"]))}} {:path [6 1 1], :nextjournal/value nil, :nextjournal/viewer {:pred #function+ \\\"clojure.core/nil?\\\", :fn #function+ (fn [_] (v/html [:span.syntax-nil.inspected-value \\\"nil\\\"]))}} {:path [6 1 2], :nextjournal/value 0.0, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [6 1 3], :nextjournal/value 2011.0, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:pred #function+ \\\"clojure.core/sequential?\\\", :fn #function+ (partial v/coll-viewer {:open \\\"(\\\", :close \\\")\\\"}), :fetch-opts {:n 20}, :closing-parens (\\\")\\\")}}], :nextjournal/viewer {:pred #function+ \\\"clojure.core/map-entry?\\\", :name :map-entry, :fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [7], :nextjournal/value [{:path [7 0], :nextjournal/value :mode, :nextjournal/viewer {:pred #function+ \\\"clojure.core/keyword?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [7 1], :nextjournal/value [{:path [7 1 0], :nextjournal/value \\\"Water industry\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [7 1 1], :nextjournal/value \\\"Wood wastes\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [7 1 2], :nextjournal/value nil, :nextjournal/viewer {:pred #function+ \\\"clojure.core/nil?\\\", :fn #function+ (fn [_] (v/html [:span.syntax-nil.inspected-value \\\"nil\\\"]))}} {:path [7 1 3], :nextjournal/value nil, :nextjournal/viewer {:pred #function+ \\\"clojure.core/nil?\\\", :fn #function+ (fn [_] (v/html [:span.syntax-nil.inspected-value \\\"nil\\\"]))}}], :nextjournal/viewer {:pred #function+ \\\"clojure.core/sequential?\\\", :fn #function+ (partial v/coll-viewer {:open \\\"(\\\", :close \\\")\\\"}), :fetch-opts {:n 20}, :closing-parens (\\\")\\\")}}], :nextjournal/viewer {:pred #function+ \\\"clojure.core/map-entry?\\\", :name :map-entry, :fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [8], :nextjournal/value [{:path [8 0], :nextjournal/value :n-missing, :nextjournal/viewer {:pred #function+ \\\"clojure.core/keyword?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [8 1], :nextjournal/value [{:path [8 1 0], :nextjournal/value 0, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [8 1 1], :nextjournal/value 0, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [8 1 2], :nextjournal/value 0, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [8 1 3], :nextjournal/value 0, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:pred #function+ \\\"clojure.core/sequential?\\\", :fn #function+ (partial v/coll-viewer {:open \\\"(\\\", :close \\\")\\\"}), :fetch-opts {:n 20}, :closing-parens (\\\")\\\")}}], :nextjournal/viewer {:pred #function+ \\\"clojure.core/map-entry?\\\", :name :map-entry, :fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [9], :nextjournal/value [{:path [9 0], :nextjournal/value :n-valid, :nextjournal/viewer {:pred #function+ \\\"clojure.core/keyword?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [9 1], :nextjournal/value [{:path [9 1 0], :nextjournal/value 2640, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [9 1 1], :nextjournal/value 2640, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [9 1 2], :nextjournal/value 2640, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [9 1 3], :nextjournal/value 2640, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:pred #function+ \\\"clojure.core/sequential?\\\", :fn #function+ (partial v/coll-viewer {:open \\\"(\\\", :close \\\")\\\"}), :fetch-opts {:n 20}, :closing-parens (\\\")\\\")}}], :nextjournal/viewer {:pred #function+ \\\"clojure.core/map-entry?\\\", :name :map-entry, :fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:nextjournal/value {:count 12, :offset 10, :path [], :remaining 2}, :nextjournal/viewer :elision}], :nextjournal/viewer {:pred #function+ \\\"clojure.core/map?--5429\\\", :name :map, :fn #function+ v/map-viewer, :fetch-opts {:n 10}, :closing-parens (\\\"}\\\")}}\"}, :nextjournal/viewer :clerk/inline-result} {:nextjournal/value \" ...The `n-missing` and `n-valid` values indicate that there are no _holes_ in the data.\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \" ## Augment the data\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \" Calculate _totals_: fabricate an `All wastes` row for each `business-sector` & `year` pair.\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \" Define a helper function...\\n * that given data about a `business-sector` and `year`,\\n * will calculate the _total_ `tonnes`, and\\n * will fabricate an `All wastes` row to store it in.\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \"(defn ->total [[row-template ds-sector-and-year]]\\n  (assoc row-template\\n         :material \\\"All wastes\\\"\\n         :tonnes (apply + (ds-sector-and-year :tonnes))))\", :nextjournal/viewer :code} {:nextjournal/value {:edn \"{:path [], :nextjournal/value \\\"exploring-business-waste/->total\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/fn?\\\", :name :fn, :fn #function+ (fn [x] (v/html [:span.inspected-value [:span.syntax-tag \\\"#function\\\"] \\\"[\\\" x \\\"]\\\"]))}}\"}, :nextjournal/viewer :clerk/inline-result} {:nextjournal/value \" Calculate _totals_, and store them in a new dataset.\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \"(def DS-totals \\n  (let [ds-sectors-and-years (-> DS\\n                                 (tc/group-by [:business-sector :year])\\n                                 tc/groups->map)]\\n    (->> ds-sectors-and-years\\n         (map ->total)\\n         tc/dataset)))\", :nextjournal/viewer :code} {:nextjournal/value {:edn \"{:path [], :nextjournal/value [{:path [0], :nextjournal/value [{:path [0 0], :nextjournal/value :business-sector, :nextjournal/viewer {:pred #function+ \\\"clojure.core/keyword?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [0 1], :nextjournal/value [{:path [0 1 0], :nextjournal/value \\\"Waste management\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [0 1 1], :nextjournal/value \\\"Agriculture, forestry and fishing\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [0 1 2], :nextjournal/value \\\"Other manufacturing\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [0 1 3], :nextjournal/value \\\"Other manufacturing\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [0 1 4], :nextjournal/value \\\"Manufacture of chemicals, plastics and pharmaceuticals\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [0 1 5], :nextjournal/value \\\"Agriculture, forestry and fishing\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [0 1 6], :nextjournal/value \\\"Power industry\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [0 1 7], :nextjournal/value \\\"Commerce\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [0 1 8], :nextjournal/value \\\"Mining and quarrying\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [0 1 9], :nextjournal/value \\\"Manufacture of food and beverage products\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [0 1 10], :nextjournal/value \\\"Manufacture of food and beverage products\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [0 1 11], :nextjournal/value \\\"Manufacture of wood products\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [0 1 12], :nextjournal/value \\\"Other manufacturing\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [0 1 13], :nextjournal/value \\\"Mining and quarrying\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [0 1 14], :nextjournal/value \\\"Commerce\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [0 1 15], :nextjournal/value \\\"Agriculture, forestry and fishing\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [0 1 16], :nextjournal/value \\\"Manufacture of wood products\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [0 1 17], :nextjournal/value \\\"Water industry\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [0 1 18], :nextjournal/value \\\"Commerce\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [0 1 19], :nextjournal/value \\\"Mining and quarrying\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:nextjournal/value {:count 80, :offset 20, :path [0 1], :remaining 60}, :nextjournal/viewer :elision}], :nextjournal/viewer {:pred #function+ \\\"clojure.core/sequential?\\\", :fn #function+ (partial v/coll-viewer {:open \\\"(\\\", :close \\\")\\\"}), :fetch-opts {:n 20}, :closing-parens (\\\")\\\")}}], :nextjournal/viewer {:pred #function+ \\\"clojure.core/map-entry?\\\", :name :map-entry, :fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [1], :nextjournal/value [{:path [1 0], :nextjournal/value :material, :nextjournal/viewer {:pred #function+ \\\"clojure.core/keyword?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [1 1], :nextjournal/value [{:path [1 1 0], :nextjournal/value \\\"All wastes\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [1 1 1], :nextjournal/value \\\"All wastes\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [1 1 2], :nextjournal/value \\\"All wastes\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [1 1 3], :nextjournal/value \\\"All wastes\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [1 1 4], :nextjournal/value \\\"All wastes\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [1 1 5], :nextjournal/value \\\"All wastes\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [1 1 6], :nextjournal/value \\\"All wastes\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [1 1 7], :nextjournal/value \\\"All wastes\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [1 1 8], :nextjournal/value \\\"All wastes\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [1 1 9], :nextjournal/value \\\"All wastes\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [1 1 10], :nextjournal/value \\\"All wastes\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [1 1 11], :nextjournal/value \\\"All wastes\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [1 1 12], :nextjournal/value \\\"All wastes\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [1 1 13], :nextjournal/value \\\"All wastes\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [1 1 14], :nextjournal/value \\\"All wastes\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [1 1 15], :nextjournal/value \\\"All wastes\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [1 1 16], :nextjournal/value \\\"All wastes\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [1 1 17], :nextjournal/value \\\"All wastes\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [1 1 18], :nextjournal/value \\\"All wastes\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [1 1 19], :nextjournal/value \\\"All wastes\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:nextjournal/value {:count 80, :offset 20, :path [1 1], :remaining 60}, :nextjournal/viewer :elision}], :nextjournal/viewer {:pred #function+ \\\"clojure.core/sequential?\\\", :fn #function+ (partial v/coll-viewer {:open \\\"(\\\", :close \\\")\\\"}), :fetch-opts {:n 20}, :closing-parens (\\\")\\\")}}], :nextjournal/viewer {:pred #function+ \\\"clojure.core/map-entry?\\\", :name :map-entry, :fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [2], :nextjournal/value [{:path [2 0], :nextjournal/value :tonnes, :nextjournal/viewer {:pred #function+ \\\"clojure.core/keyword?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [2 1], :nextjournal/value [{:path [2 1 0], :nextjournal/value 16319, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [2 1 1], :nextjournal/value 247513, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [2 1 2], :nextjournal/value 110268, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [2 1 3], :nextjournal/value 207771, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [2 1 4], :nextjournal/value 113399, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [2 1 5], :nextjournal/value 258611, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [2 1 6], :nextjournal/value 439402, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [2 1 7], :nextjournal/value 1587565, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [2 1 8], :nextjournal/value 244827, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [2 1 9], :nextjournal/value 706300, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [2 1 10], :nextjournal/value 525990, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [2 1 11], :nextjournal/value 79190, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [2 1 12], :nextjournal/value 199409, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [2 1 13], :nextjournal/value 371044, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [2 1 14], :nextjournal/value 1527592, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [2 1 15], :nextjournal/value 219186, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [2 1 16], :nextjournal/value 50052, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [2 1 17], :nextjournal/value 160328, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [2 1 18], :nextjournal/value 1380940, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [2 1 19], :nextjournal/value 245783, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:nextjournal/value {:count 80, :offset 20, :path [2 1], :remaining 60}, :nextjournal/viewer :elision}], :nextjournal/viewer {:pred #function+ \\\"clojure.core/sequential?\\\", :fn #function+ (partial v/coll-viewer {:open \\\"(\\\", :close \\\")\\\"}), :fetch-opts {:n 20}, :closing-parens (\\\")\\\")}}], :nextjournal/viewer {:pred #function+ \\\"clojure.core/map-entry?\\\", :name :map-entry, :fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [3], :nextjournal/value [{:path [3 0], :nextjournal/value :year, :nextjournal/viewer {:pred #function+ \\\"clojure.core/keyword?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [3 1], :nextjournal/value [{:path [3 1 0], :nextjournal/value 2014, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [3 1 1], :nextjournal/value 2018, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [3 1 2], :nextjournal/value 2016, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [3 1 3], :nextjournal/value 2013, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [3 1 4], :nextjournal/value 2011, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [3 1 5], :nextjournal/value 2011, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [3 1 6], :nextjournal/value 2014, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [3 1 7], :nextjournal/value 2018, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [3 1 8], :nextjournal/value 2014, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [3 1 9], :nextjournal/value 2016, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [3 1 10], :nextjournal/value 2011, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [3 1 11], :nextjournal/value 2012, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [3 1 12], :nextjournal/value 2017, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [3 1 13], :nextjournal/value 2013, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [3 1 14], :nextjournal/value 2017, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [3 1 15], :nextjournal/value 2017, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [3 1 16], :nextjournal/value 2016, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [3 1 17], :nextjournal/value 2015, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [3 1 18], :nextjournal/value 2015, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [3 1 19], :nextjournal/value 2018, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:nextjournal/value {:count 80, :offset 20, :path [3 1], :remaining 60}, :nextjournal/viewer :elision}], :nextjournal/viewer {:pred #function+ \\\"clojure.core/sequential?\\\", :fn #function+ (partial v/coll-viewer {:open \\\"(\\\", :close \\\")\\\"}), :fetch-opts {:n 20}, :closing-parens (\\\")\\\" \\\"}\\\")}}], :nextjournal/viewer {:pred #function+ \\\"clojure.core/map-entry?\\\", :name :map-entry, :fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:pred #function+ \\\"clojure.core/map?--5429\\\", :name :map, :fn #function+ v/map-viewer, :fetch-opts {:n 10}}}\"}, :nextjournal/viewer :clerk/inline-result} {:nextjournal/value \" Concatenate the original data and _totals_ data.\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \"(def DS-augmented (tc/concat DS DS-totals))\", :nextjournal/viewer :code} {:nextjournal/value {:edn \"{:path [], :nextjournal/value [{:path [0], :nextjournal/value [{:path [0 0], :nextjournal/value :business-sector, :nextjournal/viewer {:pred #function+ \\\"clojure.core/keyword?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [0 1], :nextjournal/value [{:path [0 1 0], :nextjournal/value \\\"Water industry\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [0 1 1], :nextjournal/value \\\"Manufacture of wood products\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [0 1 2], :nextjournal/value \\\"Manufacture of chemicals, plastics and pharmaceuticals\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [0 1 3], :nextjournal/value \\\"Mining and quarrying\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [0 1 4], :nextjournal/value \\\"Commerce\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [0 1 5], :nextjournal/value \\\"Power industry\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [0 1 6], :nextjournal/value \\\"Other manufacturing\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [0 1 7], :nextjournal/value \\\"Waste management\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [0 1 8], :nextjournal/value \\\"Manufacture of food and beverage products\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [0 1 9], :nextjournal/value \\\"Agriculture, forestry and fishing\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [0 1 10], :nextjournal/value \\\"Water industry\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [0 1 11], :nextjournal/value \\\"Manufacture of wood products\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [0 1 12], :nextjournal/value \\\"Manufacture of chemicals, plastics and pharmaceuticals\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [0 1 13], :nextjournal/value \\\"Mining and quarrying\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [0 1 14], :nextjournal/value \\\"Commerce\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [0 1 15], :nextjournal/value \\\"Power industry\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [0 1 16], :nextjournal/value \\\"Other manufacturing\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [0 1 17], :nextjournal/value \\\"Waste management\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [0 1 18], :nextjournal/value \\\"Manufacture of food and beverage products\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [0 1 19], :nextjournal/value \\\"Agriculture, forestry and fishing\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:nextjournal/value {:count 2720, :offset 20, :path [0 1], :remaining 2700}, :nextjournal/viewer :elision}], :nextjournal/viewer {:pred #function+ \\\"clojure.core/sequential?\\\", :fn #function+ (partial v/coll-viewer {:open \\\"(\\\", :close \\\")\\\"}), :fetch-opts {:n 20}, :closing-parens (\\\")\\\")}}], :nextjournal/viewer {:pred #function+ \\\"clojure.core/map-entry?\\\", :name :map-entry, :fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [1], :nextjournal/value [{:path [1 0], :nextjournal/value :material, :nextjournal/viewer {:pred #function+ \\\"clojure.core/keyword?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [1 1], :nextjournal/value [{:path [1 1 0], :nextjournal/value \\\"Spent solvents\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [1 1 1], :nextjournal/value \\\"Spent solvents\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [1 1 2], :nextjournal/value \\\"Spent solvents\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [1 1 3], :nextjournal/value \\\"Spent solvents\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [1 1 4], :nextjournal/value \\\"Spent solvents\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [1 1 5], :nextjournal/value \\\"Spent solvents\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [1 1 6], :nextjournal/value \\\"Spent solvents\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [1 1 7], :nextjournal/value \\\"Spent solvents\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [1 1 8], :nextjournal/value \\\"Spent solvents\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [1 1 9], :nextjournal/value \\\"Spent solvents\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [1 1 10], :nextjournal/value \\\"Acid, alkaline or saline wastes\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [1 1 11], :nextjournal/value \\\"Acid, alkaline or saline wastes\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [1 1 12], :nextjournal/value \\\"Acid, alkaline or saline wastes\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [1 1 13], :nextjournal/value \\\"Acid, alkaline or saline wastes\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [1 1 14], :nextjournal/value \\\"Acid, alkaline or saline wastes\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [1 1 15], :nextjournal/value \\\"Acid, alkaline or saline wastes\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [1 1 16], :nextjournal/value \\\"Acid, alkaline or saline wastes\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [1 1 17], :nextjournal/value \\\"Acid, alkaline or saline wastes\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [1 1 18], :nextjournal/value \\\"Acid, alkaline or saline wastes\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [1 1 19], :nextjournal/value \\\"Acid, alkaline or saline wastes\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:nextjournal/value {:count 2720, :offset 20, :path [1 1], :remaining 2700}, :nextjournal/viewer :elision}], :nextjournal/viewer {:pred #function+ \\\"clojure.core/sequential?\\\", :fn #function+ (partial v/coll-viewer {:open \\\"(\\\", :close \\\")\\\"}), :fetch-opts {:n 20}, :closing-parens (\\\")\\\")}}], :nextjournal/viewer {:pred #function+ \\\"clojure.core/map-entry?\\\", :name :map-entry, :fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [2], :nextjournal/value [{:path [2 0], :nextjournal/value :tonnes, :nextjournal/viewer {:pred #function+ \\\"clojure.core/keyword?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [2 1], :nextjournal/value [{:path [2 1 0], :nextjournal/value 6, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [2 1 1], :nextjournal/value 6, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [2 1 2], :nextjournal/value 47047, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [2 1 3], :nextjournal/value 301, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [2 1 4], :nextjournal/value 65, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [2 1 5], :nextjournal/value 6, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [2 1 6], :nextjournal/value 10, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [2 1 7], :nextjournal/value 6, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [2 1 8], :nextjournal/value 6, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [2 1 9], :nextjournal/value 6, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [2 1 10], :nextjournal/value 1, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [2 1 11], :nextjournal/value 1, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [2 1 12], :nextjournal/value 2175, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [2 1 13], :nextjournal/value 111, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [2 1 14], :nextjournal/value 36, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [2 1 15], :nextjournal/value 1, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [2 1 16], :nextjournal/value 2398, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [2 1 17], :nextjournal/value 1, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [2 1 18], :nextjournal/value 1, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [2 1 19], :nextjournal/value 1, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:nextjournal/value {:count 2720, :offset 20, :path [2 1], :remaining 2700}, :nextjournal/viewer :elision}], :nextjournal/viewer {:pred #function+ \\\"clojure.core/sequential?\\\", :fn #function+ (partial v/coll-viewer {:open \\\"(\\\", :close \\\")\\\"}), :fetch-opts {:n 20}, :closing-parens (\\\")\\\")}}], :nextjournal/viewer {:pred #function+ \\\"clojure.core/map-entry?\\\", :name :map-entry, :fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [3], :nextjournal/value [{:path [3 0], :nextjournal/value :year, :nextjournal/viewer {:pred #function+ \\\"clojure.core/keyword?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [3 1], :nextjournal/value [{:path [3 1 0], :nextjournal/value 2018, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [3 1 1], :nextjournal/value 2018, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [3 1 2], :nextjournal/value 2018, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [3 1 3], :nextjournal/value 2018, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [3 1 4], :nextjournal/value 2018, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [3 1 5], :nextjournal/value 2018, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [3 1 6], :nextjournal/value 2018, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [3 1 7], :nextjournal/value 2018, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [3 1 8], :nextjournal/value 2018, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [3 1 9], :nextjournal/value 2018, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [3 1 10], :nextjournal/value 2018, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [3 1 11], :nextjournal/value 2018, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [3 1 12], :nextjournal/value 2018, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [3 1 13], :nextjournal/value 2018, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [3 1 14], :nextjournal/value 2018, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [3 1 15], :nextjournal/value 2018, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [3 1 16], :nextjournal/value 2018, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [3 1 17], :nextjournal/value 2018, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [3 1 18], :nextjournal/value 2018, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [3 1 19], :nextjournal/value 2018, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:nextjournal/value {:count 2720, :offset 20, :path [3 1], :remaining 2700}, :nextjournal/viewer :elision}], :nextjournal/viewer {:pred #function+ \\\"clojure.core/sequential?\\\", :fn #function+ (partial v/coll-viewer {:open \\\"(\\\", :close \\\")\\\"}), :fetch-opts {:n 20}, :closing-parens (\\\")\\\" \\\"}\\\")}}], :nextjournal/viewer {:pred #function+ \\\"clojure.core/map-entry?\\\", :name :map-entry, :fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:pred #function+ \\\"clojure.core/map?--5429\\\", :name :map, :fn #function+ v/map-viewer, :fetch-opts {:n 10}}}\"}, :nextjournal/viewer :clerk/inline-result} {:nextjournal/value \" ## Display the data to glean some information\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \" For each waste material, plot a graph that will surface information about\\n the amounts of the waste material produced year-on-year by each business sector.\\n This should help us compare waste between business sectors, and identify trends. \\n\", :nextjournal/viewer :markdown} {:nextjournal/value \" Specify the layout basics for the graphs. \\n\", :nextjournal/viewer :markdown} {:nextjournal/value \"(def layout {:xaxis        {:automargin true\\n                            :title      {:text     \\\"year\\\"\\n                                         :standoff 0.1}}\\n             :yaxis        {:title      \\\"tonnes\\\"\\n                            :automargin true}\\n             :legend       {:orientation \\\"h\\\"\\n                            :font        {:size 10}\\n                            :xanchor     \\\"bottom\\\"\\n                            :y           -0.2}\\n             :plot_bgcolor \\\"#fff1e5\\\"\\n             :paper_bgcolor \\\"floralwhite\\\"\\n             })\", :nextjournal/viewer :code} {:nextjournal/value {:edn \"{:path [], :nextjournal/value [{:path [0], :nextjournal/value [{:path [0 0], :nextjournal/value :legend, :nextjournal/viewer {:pred #function+ \\\"clojure.core/keyword?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [0 1], :nextjournal/value [{:path [0 1 0], :nextjournal/value [{:path [0 1 0 0], :nextjournal/value :font, :nextjournal/viewer {:pred #function+ \\\"clojure.core/keyword?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [0 1 0 1], :nextjournal/value [{:path [0 1 0 1 0], :nextjournal/value [{:path [0 1 0 1 0 0], :nextjournal/value :size, :nextjournal/viewer {:pred #function+ \\\"clojure.core/keyword?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [0 1 0 1 0 1], :nextjournal/value 10, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:pred #function+ \\\"clojure.core/map-entry?\\\", :name :map-entry, :fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:pred #function+ \\\"clojure.core/map?--5429\\\", :name :map, :fn #function+ v/map-viewer, :fetch-opts {:n 10}, :closing-parens (\\\"}\\\")}}], :nextjournal/viewer {:pred #function+ \\\"clojure.core/map-entry?\\\", :name :map-entry, :fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [0 1 1], :nextjournal/value [{:path [0 1 1 0], :nextjournal/value :orientation, :nextjournal/viewer {:pred #function+ \\\"clojure.core/keyword?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [0 1 1 1], :nextjournal/value \\\"h\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}}], :nextjournal/viewer {:pred #function+ \\\"clojure.core/map-entry?\\\", :name :map-entry, :fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [0 1 2], :nextjournal/value [{:path [0 1 2 0], :nextjournal/value :xanchor, :nextjournal/viewer {:pred #function+ \\\"clojure.core/keyword?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [0 1 2 1], :nextjournal/value \\\"bottom\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}}], :nextjournal/viewer {:pred #function+ \\\"clojure.core/map-entry?\\\", :name :map-entry, :fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [0 1 3], :nextjournal/value [{:path [0 1 3 0], :nextjournal/value :y, :nextjournal/viewer {:pred #function+ \\\"clojure.core/keyword?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [0 1 3 1], :nextjournal/value -0.2, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:pred #function+ \\\"clojure.core/map-entry?\\\", :name :map-entry, :fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:pred #function+ \\\"clojure.core/map?--5429\\\", :name :map, :fn #function+ v/map-viewer, :fetch-opts {:n 10}, :closing-parens (\\\"}\\\")}}], :nextjournal/viewer {:pred #function+ \\\"clojure.core/map-entry?\\\", :name :map-entry, :fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [1], :nextjournal/value [{:path [1 0], :nextjournal/value :paper_bgcolor, :nextjournal/viewer {:pred #function+ \\\"clojure.core/keyword?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [1 1], :nextjournal/value \\\"floralwhite\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}}], :nextjournal/viewer {:pred #function+ \\\"clojure.core/map-entry?\\\", :name :map-entry, :fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [2], :nextjournal/value [{:path [2 0], :nextjournal/value :plot_bgcolor, :nextjournal/viewer {:pred #function+ \\\"clojure.core/keyword?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [2 1], :nextjournal/value \\\"#fff1e5\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}}], :nextjournal/viewer {:pred #function+ \\\"clojure.core/map-entry?\\\", :name :map-entry, :fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [3], :nextjournal/value [{:path [3 0], :nextjournal/value :xaxis, :nextjournal/viewer {:pred #function+ \\\"clojure.core/keyword?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [3 1], :nextjournal/value [{:path [3 1 0], :nextjournal/value [{:path [3 1 0 0], :nextjournal/value :automargin, :nextjournal/viewer {:pred #function+ \\\"clojure.core/keyword?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [3 1 0 1], :nextjournal/value true, :nextjournal/viewer {:pred #function+ \\\"clojure.core/boolean?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-bool.inspected-value (str x)]))}}], :nextjournal/viewer {:pred #function+ \\\"clojure.core/map-entry?\\\", :name :map-entry, :fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [3 1 1], :nextjournal/value [{:path [3 1 1 0], :nextjournal/value :title, :nextjournal/viewer {:pred #function+ \\\"clojure.core/keyword?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [3 1 1 1], :nextjournal/value [{:path [3 1 1 1 0], :nextjournal/value [{:path [3 1 1 1 0 0], :nextjournal/value :standoff, :nextjournal/viewer {:pred #function+ \\\"clojure.core/keyword?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [3 1 1 1 0 1], :nextjournal/value 0.1, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:pred #function+ \\\"clojure.core/map-entry?\\\", :name :map-entry, :fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [3 1 1 1 1], :nextjournal/value [{:path [3 1 1 1 1 0], :nextjournal/value :text, :nextjournal/viewer {:pred #function+ \\\"clojure.core/keyword?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [3 1 1 1 1 1], :nextjournal/value \\\"year\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}}], :nextjournal/viewer {:pred #function+ \\\"clojure.core/map-entry?\\\", :name :map-entry, :fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:pred #function+ \\\"clojure.core/map?--5429\\\", :name :map, :fn #function+ v/map-viewer, :fetch-opts {:n 10}, :closing-parens (\\\"}\\\" \\\"}\\\")}}], :nextjournal/viewer {:pred #function+ \\\"clojure.core/map-entry?\\\", :name :map-entry, :fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:pred #function+ \\\"clojure.core/map?--5429\\\", :name :map, :fn #function+ v/map-viewer, :fetch-opts {:n 10}}}], :nextjournal/viewer {:pred #function+ \\\"clojure.core/map-entry?\\\", :name :map-entry, :fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [4], :nextjournal/value [{:path [4 0], :nextjournal/value :yaxis, :nextjournal/viewer {:pred #function+ \\\"clojure.core/keyword?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [4 1], :nextjournal/value [{:path [4 1 0], :nextjournal/value [{:path [4 1 0 0], :nextjournal/value :automargin, :nextjournal/viewer {:pred #function+ \\\"clojure.core/keyword?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [4 1 0 1], :nextjournal/value true, :nextjournal/viewer {:pred #function+ \\\"clojure.core/boolean?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-bool.inspected-value (str x)]))}}], :nextjournal/viewer {:pred #function+ \\\"clojure.core/map-entry?\\\", :name :map-entry, :fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [4 1 1], :nextjournal/value [{:path [4 1 1 0], :nextjournal/value :title, :nextjournal/viewer {:pred #function+ \\\"clojure.core/keyword?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [4 1 1 1], :nextjournal/value \\\"tonnes\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}}], :nextjournal/viewer {:pred #function+ \\\"clojure.core/map-entry?\\\", :name :map-entry, :fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:pred #function+ \\\"clojure.core/map?--5429\\\", :name :map, :fn #function+ v/map-viewer, :fetch-opts {:n 10}, :closing-parens (\\\"}\\\" \\\"}\\\")}}], :nextjournal/viewer {:pred #function+ \\\"clojure.core/map-entry?\\\", :name :map-entry, :fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:pred #function+ \\\"clojure.core/map?--5429\\\", :name :map, :fn #function+ v/map-viewer, :fetch-opts {:n 10}}}\"}, :nextjournal/viewer :clerk/inline-result} {:nextjournal/value \" Define a helper function...\\n * that given data about a `business-sector`,\\n * will create a plotline that depicts its tonnes of waste per year. \\n\", :nextjournal/viewer :markdown} {:nextjournal/value \"(defn ->plotline [[sector ds-sector]]\\n  {:name          sector\\n   :x             (-> ds-sector :year vec)\\n   :y             (-> ds-sector :tonnes vec)\\n   :hovertemplate (str \\\"<b>\\\" sector \\\"</b> (%{x})<br>\\\"\\n                       \\\"%{yaxis.title.text}: %{y}<extra></extra>\\\")})\", :nextjournal/viewer :code} {:nextjournal/value {:edn \"{:path [], :nextjournal/value \\\"exploring-business-waste/->plotline\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/fn?\\\", :name :fn, :fn #function+ (fn [x] (v/html [:span.inspected-value [:span.syntax-tag \\\"#function\\\"] \\\"[\\\" x \\\"]\\\"]))}}\"}, :nextjournal/viewer :clerk/inline-result} {:nextjournal/value \" Define a helper function...\\n * that given data about a `material`,\\n * will plot a graph that contains plotlines ...one for each business-sector. \\n\", :nextjournal/viewer :markdown} {:nextjournal/value \"(defn ->graph [i [material ds-material]]\\n  (let [material' (if (> (count material) 61)\\n                    (str (subs material 0 61) \\\"...\\\")\\n                    material)\\n        ds-sectors (-> ds-material\\n                       (tc/order-by :year)\\n                       (tc/group-by :business-sector)\\n                       tc/groups->map)\\n        plotlines  (->> ds-sectors\\n                        (map ->plotline)\\n                        vec)]\\n    (v/plotly {:data   plotlines\\n               :layout (assoc layout :title (str (inc i) \\\" - \\\" material'))})))\", :nextjournal/viewer :code} {:nextjournal/value {:edn \"{:path [], :nextjournal/value \\\"exploring-business-waste/->graph\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/fn?\\\", :name :fn, :fn #function+ (fn [x] (v/html [:span.inspected-value [:span.syntax-tag \\\"#function\\\"] \\\"[\\\" x \\\"]\\\"]))}}\"}, :nextjournal/viewer :clerk/inline-result} {:nextjournal/value \" Display the graphs.\\n\\n _Browsing hints: Hover-over/click-on graph points to pop-up their details, and\\n (re-)click on legend entries to hide/show their plotlines._\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \"(let [ds-materials (-> DS-augmented\\n                       (tc/group-by :material)\\n                       tc/groups->map)]\\n  (->> ds-materials\\n       (map-indexed ->graph)))\", :nextjournal/viewer :code} {:nextjournal/value {:edn \"{:path [], :nextjournal/value [{:path [0], :nextjournal/value {:data [{:name \\\"Water industry\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [184400 158502 162386 121073 160328 213954 209174 221417], :hovertemplate \\\"<b>Water industry</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Manufacture of wood products\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [60402 79190 62665 68204 46470 50052 40430 31476], :hovertemplate \\\"<b>Manufacture of wood products</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Other manufacturing\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [243593 228556 207771 160150 225072 110268 199409 100871], :hovertemplate \\\"<b>Other manufacturing</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Commerce\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [1768879 1464443 1400922 1385056 1380940 1534823 1527592 1587565], :hovertemplate \\\"<b>Commerce</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Power industry\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [569292 529942 468050 439402 432773 137993 42023 24945], :hovertemplate \\\"<b>Power industry</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Mining and quarrying\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [290222 306142 371044 244827 341443 187359 240015 245783], :hovertemplate \\\"<b>Mining and quarrying</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Manufacture of food and beverage products\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [525990 515587 614845 509450 658527 706300 731847 667030], :hovertemplate \\\"<b>Manufacture of food and beverage products</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Manufacture of chemicals, plastics and pharmaceuticals\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [113399 95851 106766 108216 114818 101618 109653 96794], :hovertemplate \\\"<b>Manufacture of chemicals, plastics and pharmaceuticals</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Agriculture, forestry and fishing\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [258611 251259 255666 257426 225038 200513 219186 247513], :hovertemplate \\\"<b>Agriculture, forestry and fishing</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Waste management\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [10947 10151 12316 16319 13644 20586 16303 13144], :hovertemplate \\\"<b>Waste management</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"}], :layout {:xaxis {:automargin true, :title {:text \\\"year\\\", :standoff 0.1}}, :yaxis {:title \\\"tonnes\\\", :automargin true}, :legend {:orientation \\\"h\\\", :font {:size 10}, :xanchor \\\"bottom\\\", :y -0.2}, :plot_bgcolor \\\"#fff1e5\\\", :paper_bgcolor \\\"floralwhite\\\", :title \\\"1 - All wastes\\\"}}, :nextjournal/viewer :plotly} {:path [1], :nextjournal/value {:data [{:name \\\"Water industry\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [592 256 1479 2205 11436 10699 14029 5664], :hovertemplate \\\"<b>Water industry</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Manufacture of wood products\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [7113 34710 47319 50936 33249 32377 19954 16104], :hovertemplate \\\"<b>Manufacture of wood products</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Other manufacturing\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [14262 4862 17542 2862 3423 7177 22742 11439], :hovertemplate \\\"<b>Other manufacturing</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Commerce\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [39965 25654 27743 70061 61768 58749 49063 49709], :hovertemplate \\\"<b>Commerce</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Power industry\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [592 257 1040 2205 2287 758 473 1253], :hovertemplate \\\"<b>Power industry</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Mining and quarrying\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [5452 6993 10012 4823 5081 1818 4299 2324], :hovertemplate \\\"<b>Mining and quarrying</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Manufacture of food and beverage products\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [950 5626 811 2427 2305 851 663 1071], :hovertemplate \\\"<b>Manufacture of food and beverage products</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Manufacture of chemicals, plastics and pharmaceuticals\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [8811 911 1194 2205 2287 772 868 1249], :hovertemplate \\\"<b>Manufacture of chemicals, plastics and pharmaceuticals</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Agriculture, forestry and fishing\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [596 263 811 2205 2291 1038 411 937], :hovertemplate \\\"<b>Agriculture, forestry and fishing</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Waste management\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [580 254 811 2205 2287 1653 1318 919], :hovertemplate \\\"<b>Waste management</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"}], :layout {:xaxis {:automargin true, :title {:text \\\"year\\\", :standoff 0.1}}, :yaxis {:title \\\"tonnes\\\", :automargin true}, :legend {:orientation \\\"h\\\", :font {:size 10}, :xanchor \\\"bottom\\\", :y -0.2}, :plot_bgcolor \\\"#fff1e5\\\", :paper_bgcolor \\\"floralwhite\\\", :title \\\"2 - Wood wastes\\\"}}, :nextjournal/viewer :plotly} {:path [2], :nextjournal/value {:data [{:name \\\"Water industry\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [88 1 147 14 2 10 14 6], :hovertemplate \\\"<b>Water industry</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Manufacture of wood products\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [870 1488 147 14 2 10 44 6], :hovertemplate \\\"<b>Manufacture of wood products</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Other manufacturing\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [317 32 730 18 4 236 44 10], :hovertemplate \\\"<b>Other manufacturing</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Commerce\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [246 15 30 124 80 108 190 65], :hovertemplate \\\"<b>Commerce</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Power industry\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [123 28 147 14 2 122 25 6], :hovertemplate \\\"<b>Power industry</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Mining and quarrying\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [1044 1234 1777 3583 764 1875 737 301], :hovertemplate \\\"<b>Mining and quarrying</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Manufacture of food and beverage products\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [54 1 292 14 2 10 21 6], :hovertemplate \\\"<b>Manufacture of food and beverage products</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Manufacture of chemicals, plastics and pharmaceuticals\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [50583 50465 52652 56893 64562 49875 51742 47047], :hovertemplate \\\"<b>Manufacture of chemicals, plastics and pharmaceuticals</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Agriculture, forestry and fishing\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [20 1 3 14 2 10 14 6], :hovertemplate \\\"<b>Agriculture, forestry and fishing</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Waste management\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [20 1 3 14 2 10 14 6], :hovertemplate \\\"<b>Waste management</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"}], :layout {:xaxis {:automargin true, :title {:text \\\"year\\\", :standoff 0.1}}, :yaxis {:title \\\"tonnes\\\", :automargin true}, :legend {:orientation \\\"h\\\", :font {:size 10}, :xanchor \\\"bottom\\\", :y -0.2}, :plot_bgcolor \\\"#fff1e5\\\", :paper_bgcolor \\\"floralwhite\\\", :title \\\"3 - Spent solvents\\\"}}, :nextjournal/viewer :plotly} {:path [3], :nextjournal/value {:data [{:name \\\"Water industry\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [407 1347 348 0 0 0 65 0], :hovertemplate \\\"<b>Water industry</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Manufacture of wood products\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [218 187 0 0 0 0 0 0], :hovertemplate \\\"<b>Manufacture of wood products</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Other manufacturing\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [2760 8059 2769 3968 7925 1484 2721 1758], :hovertemplate \\\"<b>Other manufacturing</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Commerce\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [12639 6886 9385 6253 7401 17913 13989 18956], :hovertemplate \\\"<b>Commerce</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Power industry\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [438 1495 1 4 414 2 1 2], :hovertemplate \\\"<b>Power industry</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Mining and quarrying\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [334 358 138 510 459 1067 897 970], :hovertemplate \\\"<b>Mining and quarrying</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Manufacture of food and beverage products\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [6927 6471 6552 0 787 0 933 0], :hovertemplate \\\"<b>Manufacture of food and beverage products</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Manufacture of chemicals, plastics and pharmaceuticals\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [8 307 118 0 48 88 184 136], :hovertemplate \\\"<b>Manufacture of chemicals, plastics and pharmaceuticals</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Agriculture, forestry and fishing\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [427 1185 443 416 447 1010 839 1258], :hovertemplate \\\"<b>Agriculture, forestry and fishing</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Waste management\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [0 0 0 0 0 0 0 0], :hovertemplate \\\"<b>Waste management</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"}], :layout {:xaxis {:automargin true, :title {:text \\\"year\\\", :standoff 0.1}}, :yaxis {:title \\\"tonnes\\\", :automargin true}, :legend {:orientation \\\"h\\\", :font {:size 10}, :xanchor \\\"bottom\\\", :y -0.2}, :plot_bgcolor \\\"#fff1e5\\\", :paper_bgcolor \\\"floralwhite\\\", :title \\\"4 - Metallic wastes, non-ferrous\\\"}}, :nextjournal/viewer :plotly} {:path [4], :nextjournal/value {:data [{:name \\\"Water industry\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [0 0 0 0 0 0 0 0], :hovertemplate \\\"<b>Water industry</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Manufacture of wood products\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [0 0 0 0 0 0 0 0], :hovertemplate \\\"<b>Manufacture of wood products</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Other manufacturing\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [0 0 0 0 47 19 2 0], :hovertemplate \\\"<b>Other manufacturing</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Commerce\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [31145 37590 40627 33679 29231 28930 29539 26733], :hovertemplate \\\"<b>Commerce</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Power industry\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [0 0 0 0 0 0 0 0], :hovertemplate \\\"<b>Power industry</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Mining and quarrying\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [12 33 26 10 14 9 7 5], :hovertemplate \\\"<b>Mining and quarrying</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Manufacture of food and beverage products\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [0 0 0 0 0 0 0 0], :hovertemplate \\\"<b>Manufacture of food and beverage products</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Manufacture of chemicals, plastics and pharmaceuticals\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [0 0 0 0 0 0 0 0], :hovertemplate \\\"<b>Manufacture of chemicals, plastics and pharmaceuticals</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Agriculture, forestry and fishing\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [0 0 0 0 0 0 0 0], :hovertemplate \\\"<b>Agriculture, forestry and fishing</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Waste management\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [0 0 0 0 0 0 0 0], :hovertemplate \\\"<b>Waste management</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"}], :layout {:xaxis {:automargin true, :title {:text \\\"year\\\", :standoff 0.1}}, :yaxis {:title \\\"tonnes\\\", :automargin true}, :legend {:orientation \\\"h\\\", :font {:size 10}, :xanchor \\\"bottom\\\", :y -0.2}, :plot_bgcolor \\\"#fff1e5\\\", :paper_bgcolor \\\"floralwhite\\\", :title \\\"5 - Health care and biological wastes\\\"}}, :nextjournal/viewer :plotly} {:path [5], :nextjournal/value {:data [{:name \\\"Water industry\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [683 856 648 763 429 835 657 1190], :hovertemplate \\\"<b>Water industry</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Manufacture of wood products\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [834 1045 592 1213 429 835 1668 1315], :hovertemplate \\\"<b>Manufacture of wood products</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Other manufacturing\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [12641 6152 1716 1958 577 1315 3501 1440], :hovertemplate \\\"<b>Other manufacturing</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Commerce\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [56494 49850 39787 38100 27726 26037 27286 28838], :hovertemplate \\\"<b>Commerce</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Power industry\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [1062 1106 667 763 429 835 748 1190], :hovertemplate \\\"<b>Power industry</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Mining and quarrying\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [3071 3374 5495 2076 2940 1168 2884 1560], :hovertemplate \\\"<b>Mining and quarrying</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Manufacture of food and beverage products\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [1067 3576 1775 1411 1794 2420 3595 2372], :hovertemplate \\\"<b>Manufacture of food and beverage products</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Manufacture of chemicals, plastics and pharmaceuticals\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [683 856 965 763 429 886 804 1190], :hovertemplate \\\"<b>Manufacture of chemicals, plastics and pharmaceuticals</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Agriculture, forestry and fishing\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [725 856 550 786 429 927 688 1190], :hovertemplate \\\"<b>Agriculture, forestry and fishing</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Waste management\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [683 845 550 763 429 1129 1331 1429], :hovertemplate \\\"<b>Waste management</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"}], :layout {:xaxis {:automargin true, :title {:text \\\"year\\\", :standoff 0.1}}, :yaxis {:title \\\"tonnes\\\", :automargin true}, :legend {:orientation \\\"h\\\", :font {:size 10}, :xanchor \\\"bottom\\\", :y -0.2}, :plot_bgcolor \\\"#fff1e5\\\", :paper_bgcolor \\\"floralwhite\\\", :title \\\"6 - Paper and cardboard wastes\\\"}}, :nextjournal/viewer :plotly} {:path [6], :nextjournal/value {:data [{:name \\\"Water industry\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [0 0 1575 0 0 0 0 0], :hovertemplate \\\"<b>Water industry</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Manufacture of wood products\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [0 596 448 0 0 0 5274 0], :hovertemplate \\\"<b>Manufacture of wood products</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Other manufacturing\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [0 219 0 0 0 0 12057 0], :hovertemplate \\\"<b>Other manufacturing</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Commerce\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [67 168 47 0 5264 0 271 0], :hovertemplate \\\"<b>Commerce</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Power industry\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [0 5211 24 0 0 0 1028 0], :hovertemplate \\\"<b>Power industry</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Mining and quarrying\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [0 410 75173 0 65511 0 9 3], :hovertemplate \\\"<b>Mining and quarrying</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Manufacture of food and beverage products\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [0 0 0 0 0 0 0 0], :hovertemplate \\\"<b>Manufacture of food and beverage products</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Manufacture of chemicals, plastics and pharmaceuticals\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [994 0 0 0 0 0 5020 0], :hovertemplate \\\"<b>Manufacture of chemicals, plastics and pharmaceuticals</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Agriculture, forestry and fishing\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [0 0 0 0 0 0 0 0], :hovertemplate \\\"<b>Agriculture, forestry and fishing</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Waste management\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [0 0 0 0 0 0 0 0], :hovertemplate \\\"<b>Waste management</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"}], :layout {:xaxis {:automargin true, :title {:text \\\"year\\\", :standoff 0.1}}, :yaxis {:title \\\"tonnes\\\", :automargin true}, :legend {:orientation \\\"h\\\", :font {:size 10}, :xanchor \\\"bottom\\\", :y -0.2}, :plot_bgcolor \\\"#fff1e5\\\", :paper_bgcolor \\\"floralwhite\\\", :title \\\"7 - Mineral wastes from waste treatment and stabilised wastes\\\"}}, :nextjournal/viewer :plotly} {:path [7], :nextjournal/value {:data [{:name \\\"Water industry\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [302 646 319 23 14 20 315 65], :hovertemplate \\\"<b>Water industry</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Manufacture of wood products\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [1454 823 945 1740 1339 1358 995 1207], :hovertemplate \\\"<b>Manufacture of wood products</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Other manufacturing\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [3864 6195 5889 6219 7182 5828 8767 8770], :hovertemplate \\\"<b>Other manufacturing</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Commerce\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [623 730 938 1427 1230 2391 832 990], :hovertemplate \\\"<b>Commerce</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Power industry\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [1206 1501 328 161 162 1799 846 485], :hovertemplate \\\"<b>Power industry</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Mining and quarrying\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [42117 46666 49697 58605 57419 54110 41670 44752], :hovertemplate \\\"<b>Mining and quarrying</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Manufacture of food and beverage products\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [806 1 91 1 100 3 47 39], :hovertemplate \\\"<b>Manufacture of food and beverage products</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Manufacture of chemicals, plastics and pharmaceuticals\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [48 1662 226 901 5603 2863 2792 2540], :hovertemplate \\\"<b>Manufacture of chemicals, plastics and pharmaceuticals</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Agriculture, forestry and fishing\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [64 68 45 49 90 217 122 108], :hovertemplate \\\"<b>Agriculture, forestry and fishing</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Waste management\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [0 0 0 0 0 0 0 0], :hovertemplate \\\"<b>Waste management</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"}], :layout {:xaxis {:automargin true, :title {:text \\\"year\\\", :standoff 0.1}}, :yaxis {:title \\\"tonnes\\\", :automargin true}, :legend {:orientation \\\"h\\\", :font {:size 10}, :xanchor \\\"bottom\\\", :y -0.2}, :plot_bgcolor \\\"#fff1e5\\\", :paper_bgcolor \\\"floralwhite\\\", :title \\\"8 - Industrial effluent sludges\\\"}}, :nextjournal/viewer :plotly} {:path [8], :nextjournal/value {:data [{:name \\\"Water industry\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [356 5 5859 0 0 304 2424 0], :hovertemplate \\\"<b>Water industry</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Manufacture of wood products\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [0 0 0 0 0 0 0 0], :hovertemplate \\\"<b>Manufacture of wood products</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Other manufacturing\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [23 62 63 0 134 6038 5907 0], :hovertemplate \\\"<b>Other manufacturing</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Commerce\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [221 3507 346 0 5081 2 383 952], :hovertemplate \\\"<b>Commerce</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Power industry\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [0 0 0 0 0 2 1 0], :hovertemplate \\\"<b>Power industry</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Mining and quarrying\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [0 0 0 60 435 0 0 0], :hovertemplate \\\"<b>Mining and quarrying</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Manufacture of food and beverage products\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [22 31 2 0 0 0 0 775], :hovertemplate \\\"<b>Manufacture of food and beverage products</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Manufacture of chemicals, plastics and pharmaceuticals\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [0 0 0 0 0 0 449 566], :hovertemplate \\\"<b>Manufacture of chemicals, plastics and pharmaceuticals</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Agriculture, forestry and fishing\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [0 0 0 0 0 0 0 0], :hovertemplate \\\"<b>Agriculture, forestry and fishing</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Waste management\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [0 0 0 0 0 0 0 0], :hovertemplate \\\"<b>Waste management</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"}], :layout {:xaxis {:automargin true, :title {:text \\\"year\\\", :standoff 0.1}}, :yaxis {:title \\\"tonnes\\\", :automargin true}, :legend {:orientation \\\"h\\\", :font {:size 10}, :xanchor \\\"bottom\\\", :y -0.2}, :plot_bgcolor \\\"#fff1e5\\\", :paper_bgcolor \\\"floralwhite\\\", :title \\\"9 - Sorting residues\\\"}}, :nextjournal/viewer :plotly} {:path [9], :nextjournal/value {:data [{:name \\\"Water industry\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [0 0 0 0 0 15 7 0], :hovertemplate \\\"<b>Water industry</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Manufacture of wood products\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [0 0 0 0 0 0 0 0], :hovertemplate \\\"<b>Manufacture of wood products</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Other manufacturing\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [0 0 0 0 0 0 0 0], :hovertemplate \\\"<b>Other manufacturing</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Commerce\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [4 12 28 23 52 48 24 0], :hovertemplate \\\"<b>Commerce</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Power industry\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [0 0 0 0 0 0 0 0], :hovertemplate \\\"<b>Power industry</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Mining and quarrying\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [0 0 0 0 57 0 35 0], :hovertemplate \\\"<b>Mining and quarrying</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Manufacture of food and beverage products\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [0 0 0 0 0 0 0 0], :hovertemplate \\\"<b>Manufacture of food and beverage products</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Manufacture of chemicals, plastics and pharmaceuticals\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [0 0 52 0 0 0 26 0], :hovertemplate \\\"<b>Manufacture of chemicals, plastics and pharmaceuticals</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Agriculture, forestry and fishing\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [128613 133497 139271 127416 119358 81325 78504 103365], :hovertemplate \\\"<b>Agriculture, forestry and fishing</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Waste management\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [0 0 0 0 0 0 0 0], :hovertemplate \\\"<b>Waste management</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"}], :layout {:xaxis {:automargin true, :title {:text \\\"year\\\", :standoff 0.1}}, :yaxis {:title \\\"tonnes\\\", :automargin true}, :legend {:orientation \\\"h\\\", :font {:size 10}, :xanchor \\\"bottom\\\", :y -0.2}, :plot_bgcolor \\\"#fff1e5\\\", :paper_bgcolor \\\"floralwhite\\\", :title \\\"10 - Animal faeces, urine and manure\\\"}}, :nextjournal/viewer :plotly} {:path [10], :nextjournal/value {:data [{:name \\\"Water industry\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [2380 4028 5033 5640 3783 4345 119 2], :hovertemplate \\\"<b>Water industry</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Manufacture of wood products\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [2185 3413 5033 5640 3478 4345 61 2], :hovertemplate \\\"<b>Manufacture of wood products</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Other manufacturing\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [2185 3516 8020 5640 3478 4440 443 102], :hovertemplate \\\"<b>Other manufacturing</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Commerce\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [68310 65707 74220 86161 81084 69145 42340 30307], :hovertemplate \\\"<b>Commerce</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Power industry\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [2291 3434 5033 5640 3478 5296 77 2], :hovertemplate \\\"<b>Power industry</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Mining and quarrying\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [2216 3500 5077 5693 3508 4351 730 14], :hovertemplate \\\"<b>Mining and quarrying</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Manufacture of food and beverage products\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [6597 3402 5033 5640 3478 4345 63 2], :hovertemplate \\\"<b>Manufacture of food and beverage products</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Manufacture of chemicals, plastics and pharmaceuticals\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [2185 3434 5033 5640 3478 4345 77 2], :hovertemplate \\\"<b>Manufacture of chemicals, plastics and pharmaceuticals</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Agriculture, forestry and fishing\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [2372 4369 6210 6850 3524 4369 3063 2], :hovertemplate \\\"<b>Agriculture, forestry and fishing</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Waste management\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [2185 3339 5033 5640 3478 4345 28 2], :hovertemplate \\\"<b>Waste management</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"}], :layout {:xaxis {:automargin true, :title {:text \\\"year\\\", :standoff 0.1}}, :yaxis {:title \\\"tonnes\\\", :automargin true}, :legend {:orientation \\\"h\\\", :font {:size 10}, :xanchor \\\"bottom\\\", :y -0.2}, :plot_bgcolor \\\"#fff1e5\\\", :paper_bgcolor \\\"floralwhite\\\", :title \\\"11 - Soils\\\"}}, :nextjournal/viewer :plotly} {:path [11], :nextjournal/value {:data [{:name \\\"Water industry\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [92 57 191 231 936 765 1032 1097], :hovertemplate \\\"<b>Water industry</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Manufacture of wood products\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [92 3 16 92 21 118 109 56], :hovertemplate \\\"<b>Manufacture of wood products</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Other manufacturing\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [92 398 33 104 3596 118 180 57], :hovertemplate \\\"<b>Other manufacturing</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Commerce\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [10736 18552 26551 56463 60263 42331 75309 139358], :hovertemplate \\\"<b>Commerce</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Power industry\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [92 3 16 92 21 118 109 56], :hovertemplate \\\"<b>Power industry</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Mining and quarrying\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [1441 5619 1970 1758 1217 416 328 249], :hovertemplate \\\"<b>Mining and quarrying</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Manufacture of food and beverage products\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [90664 89078 100518 114477 132124 154027 164522 178802], :hovertemplate \\\"<b>Manufacture of food and beverage products</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Manufacture of chemicals, plastics and pharmaceuticals\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [92 3 2142 95 21 118 315 70], :hovertemplate \\\"<b>Manufacture of chemicals, plastics and pharmaceuticals</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Agriculture, forestry and fishing\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [18013 1073 1848 2177 2997 11964 12408 9986], :hovertemplate \\\"<b>Agriculture, forestry and fishing</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Waste management\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [92 3 16 92 21 118 109 56], :hovertemplate \\\"<b>Waste management</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"}], :layout {:xaxis {:automargin true, :title {:text \\\"year\\\", :standoff 0.1}}, :yaxis {:title \\\"tonnes\\\", :automargin true}, :legend {:orientation \\\"h\\\", :font {:size 10}, :xanchor \\\"bottom\\\", :y -0.2}, :plot_bgcolor \\\"#fff1e5\\\", :paper_bgcolor \\\"floralwhite\\\", :title \\\"12 - Animal and mixed food waste\\\"}}, :nextjournal/viewer :plotly} {:path [12], :nextjournal/value {:data [{:name \\\"Water industry\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [1576 542 13 0 0 0 72 12], :hovertemplate \\\"<b>Water industry</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Manufacture of wood products\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [0 1967 0 0 0 0 66 0], :hovertemplate \\\"<b>Manufacture of wood products</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Other manufacturing\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [760 6148 5193 214 148 1826 1116 0], :hovertemplate \\\"<b>Other manufacturing</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Commerce\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [3362 3207 8875 0 9566 3095 3217 285], :hovertemplate \\\"<b>Commerce</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Power industry\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [200 152 274 37 2 0 37 0], :hovertemplate \\\"<b>Power industry</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Mining and quarrying\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [17 0 711 84 308 126 752 1950], :hovertemplate \\\"<b>Mining and quarrying</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Manufacture of food and beverage products\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [0 0 2000 0 23 3 0 0], :hovertemplate \\\"<b>Manufacture of food and beverage products</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Manufacture of chemicals, plastics and pharmaceuticals\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [0 0 282 0 0 88 42 0], :hovertemplate \\\"<b>Manufacture of chemicals, plastics and pharmaceuticals</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Agriculture, forestry and fishing\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [13 1 200 0 0 0 1 9], :hovertemplate \\\"<b>Agriculture, forestry and fishing</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Waste management\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [0 0 0 0 0 0 0 0], :hovertemplate \\\"<b>Waste management</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"}], :layout {:xaxis {:automargin true, :title {:text \\\"year\\\", :standoff 0.1}}, :yaxis {:title \\\"tonnes\\\", :automargin true}, :legend {:orientation \\\"h\\\", :font {:size 10}, :xanchor \\\"bottom\\\", :y -0.2}, :plot_bgcolor \\\"#fff1e5\\\", :paper_bgcolor \\\"floralwhite\\\", :title \\\"13 - Mineral waste from construction and demolition\\\"}}, :nextjournal/viewer :plotly} {:path [13], :nextjournal/value {:data [{:name \\\"Water industry\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [125 21 133 14 9 8 268 246], :hovertemplate \\\"<b>Water industry</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Manufacture of wood products\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [281 53 153 33 24 19 332 259], :hovertemplate \\\"<b>Manufacture of wood products</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Other manufacturing\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [7721 12734 10517 8757 7657 6155 6979 7421], :hovertemplate \\\"<b>Other manufacturing</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Commerce\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [32860 51580 31899 32060 23454 18647 18995 21268], :hovertemplate \\\"<b>Commerce</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Power industry\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [962 1270 698 581 561 338 856 618], :hovertemplate \\\"<b>Power industry</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Mining and quarrying\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [18140 24858 29292 18061 11432 8744 8578 10615], :hovertemplate \\\"<b>Mining and quarrying</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Manufacture of food and beverage products\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [53 83 291 52 175 30 290 271], :hovertemplate \\\"<b>Manufacture of food and beverage products</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Manufacture of chemicals, plastics and pharmaceuticals\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [1724 2886 2303 2133 1431 921 2122 2029], :hovertemplate \\\"<b>Manufacture of chemicals, plastics and pharmaceuticals</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Agriculture, forestry and fishing\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [5191 8234 5085 5111 3862 2971 3480 3827], :hovertemplate \\\"<b>Agriculture, forestry and fishing</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Waste management\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [1 0 0 1 0 0 0 0], :hovertemplate \\\"<b>Waste management</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"}], :layout {:xaxis {:automargin true, :title {:text \\\"year\\\", :standoff 0.1}}, :yaxis {:title \\\"tonnes\\\", :automargin true}, :legend {:orientation \\\"h\\\", :font {:size 10}, :xanchor \\\"bottom\\\", :y -0.2}, :plot_bgcolor \\\"#fff1e5\\\", :paper_bgcolor \\\"floralwhite\\\", :title \\\"14 - Used oils\\\"}}, :nextjournal/viewer :plotly} {:path [14], :nextjournal/value {:data [{:name \\\"Water industry\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [0 0 1267 0 0 0 0 0], :hovertemplate \\\"<b>Water industry</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Manufacture of wood products\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [0 0 0 0 0 0 0 0], :hovertemplate \\\"<b>Manufacture of wood products</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Other manufacturing\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [0 0 0 0 0 0 0 0], :hovertemplate \\\"<b>Other manufacturing</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Commerce\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [289 332 0 0 50 3 76 0], :hovertemplate \\\"<b>Commerce</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Power industry\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [0 0 0 0 0 0 0 0], :hovertemplate \\\"<b>Power industry</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Mining and quarrying\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [0 0 0 0 0 12 0 0], :hovertemplate \\\"<b>Mining and quarrying</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Manufacture of food and beverage products\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [0 0 0 0 0 0 0 0], :hovertemplate \\\"<b>Manufacture of food and beverage products</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Manufacture of chemicals, plastics and pharmaceuticals\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [2 0 0 0 0 0 0 0], :hovertemplate \\\"<b>Manufacture of chemicals, plastics and pharmaceuticals</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Agriculture, forestry and fishing\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [3 0 0 0 0 0 0 0], :hovertemplate \\\"<b>Agriculture, forestry and fishing</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Waste management\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [0 0 0 0 0 0 0 0], :hovertemplate \\\"<b>Waste management</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"}], :layout {:xaxis {:automargin true, :title {:text \\\"year\\\", :standoff 0.1}}, :yaxis {:title \\\"tonnes\\\", :automargin true}, :legend {:orientation \\\"h\\\", :font {:size 10}, :xanchor \\\"bottom\\\", :y -0.2}, :plot_bgcolor \\\"#fff1e5\\\", :paper_bgcolor \\\"floralwhite\\\", :title \\\"15 - Dredging spoils\\\"}}, :nextjournal/viewer :plotly} {:path [15], :nextjournal/value {:data [{:name \\\"Water industry\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [1440 2041 643 291 202 84 1128 193], :hovertemplate \\\"<b>Water industry</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Manufacture of wood products\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [227 190 185 291 203 92 88 82], :hovertemplate \\\"<b>Manufacture of wood products</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Other manufacturing\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [1039 1194 1176 436 4259 95 3152 335], :hovertemplate \\\"<b>Other manufacturing</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Commerce\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [17520 8713 11869 15531 36277 15821 13940 22678], :hovertemplate \\\"<b>Commerce</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Power industry\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [235 201 205 293 220 85 90 83], :hovertemplate \\\"<b>Power industry</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Mining and quarrying\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [6892 1113 1578 1032 1064 502 423 1019], :hovertemplate \\\"<b>Mining and quarrying</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Manufacture of food and beverage products\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [246 216 251 323 409 256 249 109], :hovertemplate \\\"<b>Manufacture of food and beverage products</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Manufacture of chemicals, plastics and pharmaceuticals\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [240 209 297 388 583 105 146 654], :hovertemplate \\\"<b>Manufacture of chemicals, plastics and pharmaceuticals</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Agriculture, forestry and fishing\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [663 239 219 350 248 165 133 247], :hovertemplate \\\"<b>Agriculture, forestry and fishing</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Waste management\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [217 190 173 291 202 84 76 82], :hovertemplate \\\"<b>Waste management</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"}], :layout {:xaxis {:automargin true, :title {:text \\\"year\\\", :standoff 0.1}}, :yaxis {:title \\\"tonnes\\\", :automargin true}, :legend {:orientation \\\"h\\\", :font {:size 10}, :xanchor \\\"bottom\\\", :y -0.2}, :plot_bgcolor \\\"#fff1e5\\\", :paper_bgcolor \\\"floralwhite\\\", :title \\\"16 - Discarded equipment (excluding discarded vehicles, batteries ...\\\"}}, :nextjournal/viewer :plotly} {:path [16], :nextjournal/value {:data [{:name \\\"Water industry\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [218 307 189 281 383 522 452 946], :hovertemplate \\\"<b>Water industry</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Manufacture of wood products\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [211 341 181 281 378 531 698 948], :hovertemplate \\\"<b>Manufacture of wood products</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Other manufacturing\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [530 667 354 1141 362 524 757 972], :hovertemplate \\\"<b>Other manufacturing</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Commerce\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [6002 6833 6006 7915 7968 8621 6504 13044], :hovertemplate \\\"<b>Commerce</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Power industry\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [211 287 186 281 333 522 463 956], :hovertemplate \\\"<b>Power industry</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Mining and quarrying\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [560 1666 787 766 928 766 714 1254], :hovertemplate \\\"<b>Mining and quarrying</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Manufacture of food and beverage products\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [218 834 421 703 1170 644 1053 959], :hovertemplate \\\"<b>Manufacture of food and beverage products</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Manufacture of chemicals, plastics and pharmaceuticals\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [321 276 505 534 1671 1751 762 1059], :hovertemplate \\\"<b>Manufacture of chemicals, plastics and pharmaceuticals</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Agriculture, forestry and fishing\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [23384 24186 23370 23743 14371 22776 23848 23545], :hovertemplate \\\"<b>Agriculture, forestry and fishing</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Waste management\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [195 236 181 281 330 634 970 959], :hovertemplate \\\"<b>Waste management</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"}], :layout {:xaxis {:automargin true, :title {:text \\\"year\\\", :standoff 0.1}}, :yaxis {:title \\\"tonnes\\\", :automargin true}, :legend {:orientation \\\"h\\\", :font {:size 10}, :xanchor \\\"bottom\\\", :y -0.2}, :plot_bgcolor \\\"#fff1e5\\\", :paper_bgcolor \\\"floralwhite\\\", :title \\\"17 - Plastic wastes\\\"}}, :nextjournal/viewer :plotly} {:path [17], :nextjournal/value {:data [{:name \\\"Water industry\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [0 0 9 0 0 0 0 0], :hovertemplate \\\"<b>Water industry</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Manufacture of wood products\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [0 0 0 0 0 0 0 0], :hovertemplate \\\"<b>Manufacture of wood products</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Other manufacturing\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [6354 7 1 0 0 0 0 0], :hovertemplate \\\"<b>Other manufacturing</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Commerce\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [41663 44657 52857 65884 43295 49691 77370 77534], :hovertemplate \\\"<b>Commerce</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Power industry\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [5 4 7 8 5 6 8 9], :hovertemplate \\\"<b>Power industry</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Mining and quarrying\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [0 0 1 0 0 0 0 0], :hovertemplate \\\"<b>Mining and quarrying</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Manufacture of food and beverage products\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [6767 3322 3600 0 0 0 3183 0], :hovertemplate \\\"<b>Manufacture of food and beverage products</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Manufacture of chemicals, plastics and pharmaceuticals\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [0 0 0 0 0 0 0 0], :hovertemplate \\\"<b>Manufacture of chemicals, plastics and pharmaceuticals</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Agriculture, forestry and fishing\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [2585 3988 3496 4305 2865 3163 5176 4822], :hovertemplate \\\"<b>Agriculture, forestry and fishing</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Waste management\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [0 0 0 0 0 0 0 0], :hovertemplate \\\"<b>Waste management</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"}], :layout {:xaxis {:automargin true, :title {:text \\\"year\\\", :standoff 0.1}}, :yaxis {:title \\\"tonnes\\\", :automargin true}, :legend {:orientation \\\"h\\\", :font {:size 10}, :xanchor \\\"bottom\\\", :y -0.2}, :plot_bgcolor \\\"#fff1e5\\\", :paper_bgcolor \\\"floralwhite\\\", :title \\\"18 - Discarded vehicles\\\"}}, :nextjournal/viewer :plotly} {:path [18], :nextjournal/value {:data [{:name \\\"Water industry\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [0 0 0 0 1 16 3 0], :hovertemplate \\\"<b>Water industry</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Manufacture of wood products\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [0 0 0 0 0 0 0 0], :hovertemplate \\\"<b>Manufacture of wood products</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Other manufacturing\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [0 0 0 37 2 2 1 0], :hovertemplate \\\"<b>Other manufacturing</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Commerce\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [31991 28773 32831 36086 29468 21520 56981 33695], :hovertemplate \\\"<b>Commerce</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Power industry\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [1 1 1 2 3 0 4 2], :hovertemplate \\\"<b>Power industry</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Mining and quarrying\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [0 0 0 7 4 3 7 2], :hovertemplate \\\"<b>Mining and quarrying</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Manufacture of food and beverage products\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [0 0 0 0 0 0 78 0], :hovertemplate \\\"<b>Manufacture of food and beverage products</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Manufacture of chemicals, plastics and pharmaceuticals\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [0 0 0 1 0 3 1 0], :hovertemplate \\\"<b>Manufacture of chemicals, plastics and pharmaceuticals</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Agriculture, forestry and fishing\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [707 525 723 910 457 84 2214 894], :hovertemplate \\\"<b>Agriculture, forestry and fishing</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Waste management\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [0 0 0 0 0 0 0 0], :hovertemplate \\\"<b>Waste management</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"}], :layout {:xaxis {:automargin true, :title {:text \\\"year\\\", :standoff 0.1}}, :yaxis {:title \\\"tonnes\\\", :automargin true}, :legend {:orientation \\\"h\\\", :font {:size 10}, :xanchor \\\"bottom\\\", :y -0.2}, :plot_bgcolor \\\"#fff1e5\\\", :paper_bgcolor \\\"floralwhite\\\", :title \\\"19 - Rubber wastes\\\"}}, :nextjournal/viewer :plotly} {:path [19], :nextjournal/value {:data [{:name \\\"Water industry\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [0 0 0 0 0 0 0 0], :hovertemplate \\\"<b>Water industry</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Manufacture of wood products\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [0 0 0 0 0 0 0 0], :hovertemplate \\\"<b>Manufacture of wood products</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Other manufacturing\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [1 5 5 2 1 2 2 3], :hovertemplate \\\"<b>Other manufacturing</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Commerce\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [6 70 158 133 102 139 160 156], :hovertemplate \\\"<b>Commerce</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Power industry\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [0 15 1 0 0 0 0 0], :hovertemplate \\\"<b>Power industry</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Mining and quarrying\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [3 52 18 4 16 4 5 7], :hovertemplate \\\"<b>Mining and quarrying</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Manufacture of food and beverage products\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [0 0 1 1 1 1 1 1], :hovertemplate \\\"<b>Manufacture of food and beverage products</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Manufacture of chemicals, plastics and pharmaceuticals\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [0 2 3 2 2 2 3 3], :hovertemplate \\\"<b>Manufacture of chemicals, plastics and pharmaceuticals</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Agriculture, forestry and fishing\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [1 6 4 1 0 1 1 2], :hovertemplate \\\"<b>Agriculture, forestry and fishing</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"} {:name \\\"Waste management\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [0 0 0 0 0 0 0 0], :hovertemplate \\\"<b>Waste management</b> (%{x})<br>%{yaxis.title.text}: %{y}<extra></extra>\\\"}], :layout {:xaxis {:automargin true, :title {:text \\\"year\\\", :standoff 0.1}}, :yaxis {:title \\\"tonnes\\\", :automargin true}, :legend {:orientation \\\"h\\\", :font {:size 10}, :xanchor \\\"bottom\\\", :y -0.2}, :plot_bgcolor \\\"#fff1e5\\\", :paper_bgcolor \\\"floralwhite\\\", :title \\\"20 - Waste containing PCB\\\"}}, :nextjournal/viewer :plotly} {:nextjournal/value {:count 34, :offset 20, :path [], :remaining 14}, :nextjournal/viewer :elision}], :nextjournal/viewer {:pred #function+ \\\"clojure.core/sequential?\\\", :fn #function+ (partial v/coll-viewer {:open \\\"(\\\", :close \\\")\\\"}), :fetch-opts {:n 20}, :closing-parens (\\\")\\\")}}\"}, :nextjournal/viewer :clerk/inline-result} {:nextjournal/value \" ## What information has been surfaced?\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \" The graphs provide at-a-glance-information about the relative _performances_ \\n of the business sectors in terms of amounts of waste generated and trends.\\n And, they make it easier to spot _anomalies_...\\n\\n * The signature of Longannet's closure: \\n   Longannet was a coal fuelled power station that closed on 24th March 2016.\\n   It was a significant generator of waste so its signature can be spotted \\n   at the `All wastes` level of graph 1 (hide its `Commerce` plot line to better see its\\n   `Power industry` plotline nose dive between 2015 and 2017).\\n   And graph 23 singles out `Combustion wastes`, where it is even easier to spot.\\n   (Furthermore, Longannet features in [this map-oriented data analysis](https://github.com/data-commons-scotland/dcs-shorts/tree/master/longannet-found-in-the-data)).\\n   \\n * There is a x10 spike in graph 29's `Acid, Alkaline or saline waste` due to\\n   `Mining and quarrying` in the year 2014. _Why?_ \\n   [This 13th July 2014 article](https://www.heraldscotland.com/news/13169742.revealed-national-crisis-opencast-mine-warning/)\\n   in The Herald newspaper, reports on the threat from contaminated water in Scotland's \\n   abandoned coal mines, and that Scottish Coal went bust in 2013.\\n   Perhaps this waste was accounted for only after Scottish Coal's demise, hence the spike in 2014(?).\\n\\n * More spikes: Actually, there is a lot of _spike-y_ data in the graphs.\\n   Some graphs have obvious spikes, \\n   such as those for `Sludges and liquid wastes from waste treatment` in graph 34.\\n   In other graphs, spikes are noticable only after hiding the plotlines of\\n   the higher waste generating sectors. For example, on graph 19 `Rubber wastes`,\\n   double click in the legend on `Manufacture of food and beverage products` \\n   to bring this to the fore. It is zero for all years apart from 2017. _Why?_\\n   And the same question for the other spikes!\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \" ## Source code\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \" The source code for this page is at:\\n [https://raw.githubusercontent.com/data-commons-scotland/dcs-literate-programming/master/src/exploring_business_waste.clj](https://raw.githubusercontent.com/data-commons-scotland/dcs-literate-programming/master/src/exploring_business_waste.clj)\\n\", :nextjournal/viewer :markdown}], :nextjournal/viewer :clerk/notebook, :scope {:namespace :exploring-business-waste}}, \"src/household_vs_business_waste.clj\" {:nextjournal/value [{:nextjournal/value \" # Comparing Scotland's household waste against its business waste\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \" We are going to take the two CSV data files that describe the waste generated by \\n households and by businesses in Scotland during the last decade,\\n and walk through how to:\\n 1. load their data, \\n 2. aggregate to yearly totals,\\n 3. apportion yearly percentages, and\\n 4. plot the results in a graph for comparison.\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \" Firstly, load a couple of helper libraries.\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \"(ns household-vs-business-waste\\n  (:require [tablecloth.api :as tc]\\n            [nextjournal.clerk.viewer :as v]))\", :nextjournal/viewer :code} {:nextjournal/value {:edn \"{:path [], :nextjournal/value nil, :nextjournal/viewer {:pred #function+ \\\"clojure.core/nil?\\\", :fn #function+ (fn [_] (v/html [:span.syntax-nil.inspected-value \\\"nil\\\"]))}}\"}, :nextjournal/viewer :clerk/inline-result} {:nextjournal/value \" ## 1. Load the data\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \" URL to the context containing the data files \\n (within the \\\"[Easier open data about waste in Scotland](https://github.com/data-commons-scotland/dcs-easier-open-data)\\\" repository).\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \"(def ctx-url \\\"https://raw.githubusercontent.com/data-commons-scotland/dcs-easier-open-data/v1.6-beta/data/\\\")\", :nextjournal/viewer :code} {:nextjournal/value {:edn \"{:path [], :nextjournal/value \\\"https://raw.githubusercontent.com/data-commons-scotland/dcs-easier-open-data/v1.6-beta/data/\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}}\"}, :nextjournal/viewer :clerk/inline-result} {:nextjournal/value \" Read each data file into a column-oriented data structure\\n (similar to an R Data Frame or a Python Pandas DataFrame).\\n\\n _Browsing hint: Click on the underlined backets within following the outputs, to expand what is shown._\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \"(def household (tc/dataset (str ctx-url \\\"household-waste.csv\\\") {:key-fn keyword}))\", :nextjournal/viewer :code} {:nextjournal/value {:edn \"{:path [], :nextjournal/value [{:path [0], :nextjournal/value [{:path [0 0], :nextjournal/value :management, :nextjournal/viewer {:pred #function+ \\\"clojure.core/keyword?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [0 1], :nextjournal/value [{:path [0 1 0], :nextjournal/value \\\"Landfilled\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [0 1 1], :nextjournal/value \\\"Landfilled\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [0 1 2], :nextjournal/value \\\"Other Diversion\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [0 1 3], :nextjournal/value \\\"Landfilled\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [0 1 4], :nextjournal/value \\\"Landfilled\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [0 1 5], :nextjournal/value \\\"Other Diversion\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [0 1 6], :nextjournal/value \\\"Recycled\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [0 1 7], :nextjournal/value \\\"Landfilled\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [0 1 8], :nextjournal/value \\\"Recycled\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [0 1 9], :nextjournal/value \\\"Other Diversion\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [0 1 10], :nextjournal/value \\\"Recycled\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [0 1 11], :nextjournal/value \\\"Recycled\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [0 1 12], :nextjournal/value \\\"Other Diversion\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [0 1 13], :nextjournal/value \\\"Recycled\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [0 1 14], :nextjournal/value \\\"Other Diversion\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [0 1 15], :nextjournal/value \\\"Other Diversion\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [0 1 16], :nextjournal/value \\\"Recycled\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [0 1 17], :nextjournal/value \\\"Recycled\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [0 1 18], :nextjournal/value \\\"Landfilled\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [0 1 19], :nextjournal/value \\\"Landfilled\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:nextjournal/value {:count 19008, :offset 20, :path [0 1], :remaining 18988}, :nextjournal/viewer :elision}], :nextjournal/viewer {:pred #function+ \\\"clojure.core/sequential?\\\", :fn #function+ (partial v/coll-viewer {:open \\\"(\\\", :close \\\")\\\"}), :fetch-opts {:n 20}, :closing-parens (\\\")\\\")}}], :nextjournal/viewer {:pred #function+ \\\"clojure.core/map-entry?\\\", :name :map-entry, :fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [1], :nextjournal/value [{:path [1 0], :nextjournal/value :material, :nextjournal/viewer {:pred #function+ \\\"clojure.core/keyword?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [1 1], :nextjournal/value [{:path [1 1 0], :nextjournal/value \\\"Animal and mixed food waste\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [1 1 1], :nextjournal/value \\\"Animal and mixed food waste\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [1 1 2], :nextjournal/value \\\"Animal and mixed food waste\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [1 1 3], :nextjournal/value \\\"Animal and mixed food waste\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [1 1 4], :nextjournal/value \\\"Animal and mixed food waste\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [1 1 5], :nextjournal/value \\\"Metallic wastes, non-ferrous\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [1 1 6], :nextjournal/value \\\"Animal and mixed food waste\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [1 1 7], :nextjournal/value \\\"Animal and mixed food waste\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [1 1 8], :nextjournal/value \\\"Animal and mixed food waste\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [1 1 9], :nextjournal/value \\\"Animal and mixed food waste\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [1 1 10], :nextjournal/value \\\"Animal and mixed food waste\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [1 1 11], :nextjournal/value \\\"Metallic wastes, non-ferrous\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [1 1 12], :nextjournal/value \\\"Animal and mixed food waste\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [1 1 13], :nextjournal/value \\\"Animal and mixed food waste\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [1 1 14], :nextjournal/value \\\"Metallic wastes, non-ferrous\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [1 1 15], :nextjournal/value \\\"Metallic wastes, non-ferrous\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [1 1 16], :nextjournal/value \\\"Metallic wastes, non-ferrous\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [1 1 17], :nextjournal/value \\\"Metallic wastes, non-ferrous\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [1 1 18], :nextjournal/value \\\"Animal and mixed food waste\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [1 1 19], :nextjournal/value \\\"Animal and mixed food waste\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:nextjournal/value {:count 19008, :offset 20, :path [1 1], :remaining 18988}, :nextjournal/viewer :elision}], :nextjournal/viewer {:pred #function+ \\\"clojure.core/sequential?\\\", :fn #function+ (partial v/coll-viewer {:open \\\"(\\\", :close \\\")\\\"}), :fetch-opts {:n 20}, :closing-parens (\\\")\\\")}}], :nextjournal/viewer {:pred #function+ \\\"clojure.core/map-entry?\\\", :name :map-entry, :fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [2], :nextjournal/value [{:path [2 0], :nextjournal/value :region, :nextjournal/viewer {:pred #function+ \\\"clojure.core/keyword?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [2 1], :nextjournal/value [{:path [2 1 0], :nextjournal/value \\\"West Lothian\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [2 1 1], :nextjournal/value \\\"East Renfrewshire\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [2 1 2], :nextjournal/value \\\"Stirling\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [2 1 3], :nextjournal/value \\\"Moray\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [2 1 4], :nextjournal/value \\\"Stirling\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [2 1 5], :nextjournal/value \\\"Renfrewshire\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [2 1 6], :nextjournal/value \\\"Aberdeenshire\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [2 1 7], :nextjournal/value \\\"Midlothian\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [2 1 8], :nextjournal/value \\\"East Renfrewshire\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [2 1 9], :nextjournal/value \\\"Midlothian\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [2 1 10], :nextjournal/value \\\"Stirling\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [2 1 11], :nextjournal/value \\\"Fife\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [2 1 12], :nextjournal/value \\\"Glasgow City\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [2 1 13], :nextjournal/value \\\"North Ayrshire\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [2 1 14], :nextjournal/value \\\"East Ayrshire\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [2 1 15], :nextjournal/value \\\"Outer Hebrides\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [2 1 16], :nextjournal/value \\\"City of Edinburgh\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [2 1 17], :nextjournal/value \\\"East Dunbartonshire\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [2 1 18], :nextjournal/value \\\"Outer Hebrides\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [2 1 19], :nextjournal/value \\\"Renfrewshire\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:nextjournal/value {:count 19008, :offset 20, :path [2 1], :remaining 18988}, :nextjournal/viewer :elision}], :nextjournal/viewer {:pred #function+ \\\"clojure.core/sequential?\\\", :fn #function+ (partial v/coll-viewer {:open \\\"(\\\", :close \\\")\\\"}), :fetch-opts {:n 20}, :closing-parens (\\\")\\\")}}], :nextjournal/viewer {:pred #function+ \\\"clojure.core/map-entry?\\\", :name :map-entry, :fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [3], :nextjournal/value [{:path [3 0], :nextjournal/value :tonnes, :nextjournal/viewer {:pred #function+ \\\"clojure.core/keyword?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [3 1], :nextjournal/value [{:path [3 1 0], :nextjournal/value 0, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [3 1 1], :nextjournal/value 0, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [3 1 2], :nextjournal/value 0, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [3 1 3], :nextjournal/value 0, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [3 1 4], :nextjournal/value 0, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [3 1 5], :nextjournal/value 0, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [3 1 6], :nextjournal/value 393, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [3 1 7], :nextjournal/value 0, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [3 1 8], :nextjournal/value 2509, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [3 1 9], :nextjournal/value 0, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [3 1 10], :nextjournal/value 651, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [3 1 11], :nextjournal/value 85, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [3 1 12], :nextjournal/value 0, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [3 1 13], :nextjournal/value 0, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [3 1 14], :nextjournal/value 0, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [3 1 15], :nextjournal/value 0, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [3 1 16], :nextjournal/value 103, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [3 1 17], :nextjournal/value 0, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [3 1 18], :nextjournal/value 0, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [3 1 19], :nextjournal/value 0, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:nextjournal/value {:count 19008, :offset 20, :path [3 1], :remaining 18988}, :nextjournal/viewer :elision}], :nextjournal/viewer {:pred #function+ \\\"clojure.core/sequential?\\\", :fn #function+ (partial v/coll-viewer {:open \\\"(\\\", :close \\\")\\\"}), :fetch-opts {:n 20}, :closing-parens (\\\")\\\")}}], :nextjournal/viewer {:pred #function+ \\\"clojure.core/map-entry?\\\", :name :map-entry, :fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [4], :nextjournal/value [{:path [4 0], :nextjournal/value :year, :nextjournal/viewer {:pred #function+ \\\"clojure.core/keyword?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [4 1], :nextjournal/value [{:path [4 1 0], :nextjournal/value 2011, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [4 1 1], :nextjournal/value 2011, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [4 1 2], :nextjournal/value 2011, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [4 1 3], :nextjournal/value 2011, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [4 1 4], :nextjournal/value 2011, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [4 1 5], :nextjournal/value 2011, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [4 1 6], :nextjournal/value 2011, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [4 1 7], :nextjournal/value 2011, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [4 1 8], :nextjournal/value 2011, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [4 1 9], :nextjournal/value 2011, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [4 1 10], :nextjournal/value 2011, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [4 1 11], :nextjournal/value 2011, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [4 1 12], :nextjournal/value 2011, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [4 1 13], :nextjournal/value 2011, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [4 1 14], :nextjournal/value 2011, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [4 1 15], :nextjournal/value 2011, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [4 1 16], :nextjournal/value 2011, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [4 1 17], :nextjournal/value 2011, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [4 1 18], :nextjournal/value 2011, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [4 1 19], :nextjournal/value 2011, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:nextjournal/value {:count 19008, :offset 20, :path [4 1], :remaining 18988}, :nextjournal/viewer :elision}], :nextjournal/viewer {:pred #function+ \\\"clojure.core/sequential?\\\", :fn #function+ (partial v/coll-viewer {:open \\\"(\\\", :close \\\")\\\"}), :fetch-opts {:n 20}, :closing-parens (\\\")\\\" \\\"}\\\")}}], :nextjournal/viewer {:pred #function+ \\\"clojure.core/map-entry?\\\", :name :map-entry, :fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:pred #function+ \\\"clojure.core/map?--5429\\\", :name :map, :fn #function+ v/map-viewer, :fetch-opts {:n 10}}}\"}, :nextjournal/viewer :clerk/inline-result} {:nextjournal/value \"(def business (tc/dataset (str ctx-url \\\"business-waste-by-sector.csv\\\") {:key-fn keyword}))\", :nextjournal/viewer :code} {:nextjournal/value {:edn \"{:path [], :nextjournal/value [{:path [0], :nextjournal/value [{:path [0 0], :nextjournal/value :business-sector, :nextjournal/viewer {:pred #function+ \\\"clojure.core/keyword?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [0 1], :nextjournal/value [{:path [0 1 0], :nextjournal/value \\\"Water industry\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [0 1 1], :nextjournal/value \\\"Manufacture of wood products\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [0 1 2], :nextjournal/value \\\"Manufacture of chemicals, plastics and pharmaceuticals\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [0 1 3], :nextjournal/value \\\"Mining and quarrying\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [0 1 4], :nextjournal/value \\\"Commerce\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [0 1 5], :nextjournal/value \\\"Power industry\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [0 1 6], :nextjournal/value \\\"Other manufacturing\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [0 1 7], :nextjournal/value \\\"Waste management\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [0 1 8], :nextjournal/value \\\"Manufacture of food and beverage products\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [0 1 9], :nextjournal/value \\\"Agriculture, forestry and fishing\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [0 1 10], :nextjournal/value \\\"Water industry\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [0 1 11], :nextjournal/value \\\"Manufacture of wood products\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [0 1 12], :nextjournal/value \\\"Manufacture of chemicals, plastics and pharmaceuticals\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [0 1 13], :nextjournal/value \\\"Mining and quarrying\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [0 1 14], :nextjournal/value \\\"Commerce\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [0 1 15], :nextjournal/value \\\"Power industry\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [0 1 16], :nextjournal/value \\\"Other manufacturing\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [0 1 17], :nextjournal/value \\\"Waste management\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [0 1 18], :nextjournal/value \\\"Manufacture of food and beverage products\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [0 1 19], :nextjournal/value \\\"Agriculture, forestry and fishing\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:nextjournal/value {:count 2640, :offset 20, :path [0 1], :remaining 2620}, :nextjournal/viewer :elision}], :nextjournal/viewer {:pred #function+ \\\"clojure.core/sequential?\\\", :fn #function+ (partial v/coll-viewer {:open \\\"(\\\", :close \\\")\\\"}), :fetch-opts {:n 20}, :closing-parens (\\\")\\\")}}], :nextjournal/viewer {:pred #function+ \\\"clojure.core/map-entry?\\\", :name :map-entry, :fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [1], :nextjournal/value [{:path [1 0], :nextjournal/value :material, :nextjournal/viewer {:pred #function+ \\\"clojure.core/keyword?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [1 1], :nextjournal/value [{:path [1 1 0], :nextjournal/value \\\"Spent solvents\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [1 1 1], :nextjournal/value \\\"Spent solvents\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [1 1 2], :nextjournal/value \\\"Spent solvents\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [1 1 3], :nextjournal/value \\\"Spent solvents\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [1 1 4], :nextjournal/value \\\"Spent solvents\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [1 1 5], :nextjournal/value \\\"Spent solvents\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [1 1 6], :nextjournal/value \\\"Spent solvents\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [1 1 7], :nextjournal/value \\\"Spent solvents\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [1 1 8], :nextjournal/value \\\"Spent solvents\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [1 1 9], :nextjournal/value \\\"Spent solvents\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [1 1 10], :nextjournal/value \\\"Acid, alkaline or saline wastes\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [1 1 11], :nextjournal/value \\\"Acid, alkaline or saline wastes\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [1 1 12], :nextjournal/value \\\"Acid, alkaline or saline wastes\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [1 1 13], :nextjournal/value \\\"Acid, alkaline or saline wastes\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [1 1 14], :nextjournal/value \\\"Acid, alkaline or saline wastes\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [1 1 15], :nextjournal/value \\\"Acid, alkaline or saline wastes\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [1 1 16], :nextjournal/value \\\"Acid, alkaline or saline wastes\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [1 1 17], :nextjournal/value \\\"Acid, alkaline or saline wastes\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [1 1 18], :nextjournal/value \\\"Acid, alkaline or saline wastes\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:path [1 1 19], :nextjournal/value \\\"Acid, alkaline or saline wastes\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/string?--5427\\\", :fn #function+ v/string-viewer, :fetch-opts {:n 100}}} {:nextjournal/value {:count 2640, :offset 20, :path [1 1], :remaining 2620}, :nextjournal/viewer :elision}], :nextjournal/viewer {:pred #function+ \\\"clojure.core/sequential?\\\", :fn #function+ (partial v/coll-viewer {:open \\\"(\\\", :close \\\")\\\"}), :fetch-opts {:n 20}, :closing-parens (\\\")\\\")}}], :nextjournal/viewer {:pred #function+ \\\"clojure.core/map-entry?\\\", :name :map-entry, :fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [2], :nextjournal/value [{:path [2 0], :nextjournal/value :tonnes, :nextjournal/viewer {:pred #function+ \\\"clojure.core/keyword?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [2 1], :nextjournal/value [{:path [2 1 0], :nextjournal/value 6, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [2 1 1], :nextjournal/value 6, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [2 1 2], :nextjournal/value 47047, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [2 1 3], :nextjournal/value 301, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [2 1 4], :nextjournal/value 65, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [2 1 5], :nextjournal/value 6, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [2 1 6], :nextjournal/value 10, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [2 1 7], :nextjournal/value 6, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [2 1 8], :nextjournal/value 6, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [2 1 9], :nextjournal/value 6, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [2 1 10], :nextjournal/value 1, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [2 1 11], :nextjournal/value 1, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [2 1 12], :nextjournal/value 2175, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [2 1 13], :nextjournal/value 111, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [2 1 14], :nextjournal/value 36, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [2 1 15], :nextjournal/value 1, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [2 1 16], :nextjournal/value 2398, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [2 1 17], :nextjournal/value 1, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [2 1 18], :nextjournal/value 1, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [2 1 19], :nextjournal/value 1, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:nextjournal/value {:count 2640, :offset 20, :path [2 1], :remaining 2620}, :nextjournal/viewer :elision}], :nextjournal/viewer {:pred #function+ \\\"clojure.core/sequential?\\\", :fn #function+ (partial v/coll-viewer {:open \\\"(\\\", :close \\\")\\\"}), :fetch-opts {:n 20}, :closing-parens (\\\")\\\")}}], :nextjournal/viewer {:pred #function+ \\\"clojure.core/map-entry?\\\", :name :map-entry, :fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [3], :nextjournal/value [{:path [3 0], :nextjournal/value :year, :nextjournal/viewer {:pred #function+ \\\"clojure.core/keyword?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [3 1], :nextjournal/value [{:path [3 1 0], :nextjournal/value 2018, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [3 1 1], :nextjournal/value 2018, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [3 1 2], :nextjournal/value 2018, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [3 1 3], :nextjournal/value 2018, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [3 1 4], :nextjournal/value 2018, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [3 1 5], :nextjournal/value 2018, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [3 1 6], :nextjournal/value 2018, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [3 1 7], :nextjournal/value 2018, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [3 1 8], :nextjournal/value 2018, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [3 1 9], :nextjournal/value 2018, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [3 1 10], :nextjournal/value 2018, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [3 1 11], :nextjournal/value 2018, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [3 1 12], :nextjournal/value 2018, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [3 1 13], :nextjournal/value 2018, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [3 1 14], :nextjournal/value 2018, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [3 1 15], :nextjournal/value 2018, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [3 1 16], :nextjournal/value 2018, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [3 1 17], :nextjournal/value 2018, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [3 1 18], :nextjournal/value 2018, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [3 1 19], :nextjournal/value 2018, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:nextjournal/value {:count 2640, :offset 20, :path [3 1], :remaining 2620}, :nextjournal/viewer :elision}], :nextjournal/viewer {:pred #function+ \\\"clojure.core/sequential?\\\", :fn #function+ (partial v/coll-viewer {:open \\\"(\\\", :close \\\")\\\"}), :fetch-opts {:n 20}, :closing-parens (\\\")\\\" \\\"}\\\")}}], :nextjournal/viewer {:pred #function+ \\\"clojure.core/map-entry?\\\", :name :map-entry, :fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:pred #function+ \\\"clojure.core/map?--5429\\\", :name :map, :fn #function+ v/map-viewer, :fetch-opts {:n 10}}}\"}, :nextjournal/viewer :clerk/inline-result} {:nextjournal/value \" ## 2. Aggregate to yearly totals\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \" Define a helper function that aggregates to yearly totals, the given dataset.\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \"(defn ->totals [data]\\n  (let [groups (-> data\\n                   (tc/group-by :year)\\n                   tc/groups->map)\\n        totals (->> groups\\n                    (map (fn [[year group]]\\n                           {:year   year\\n                            :tonnes (apply + (group :tonnes))}))\\n                    tc/dataset)]\\n    (tc/order-by totals :year)))\", :nextjournal/viewer :code} {:nextjournal/value {:edn \"{:path [], :nextjournal/value \\\"household-vs-business-waste/->totals\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/fn?\\\", :name :fn, :fn #function+ (fn [x] (v/html [:span.inspected-value [:span.syntax-tag \\\"#function\\\"] \\\"[\\\" x \\\"]\\\"]))}}\"}, :nextjournal/viewer :clerk/inline-result} {:nextjournal/value \" Apply the helper function to each dataset.\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \"(def household-totals (->totals household))\", :nextjournal/viewer :code} {:nextjournal/value {:edn \"{:path [], :nextjournal/value [{:path [0], :nextjournal/value [{:path [0 0], :nextjournal/value :tonnes, :nextjournal/viewer {:pred #function+ \\\"clojure.core/keyword?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [0 1], :nextjournal/value [{:path [0 1 0], :nextjournal/value 2536497, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [0 1 1], :nextjournal/value 2445584, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [0 1 2], :nextjournal/value 2413544, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [0 1 3], :nextjournal/value 2458875, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [0 1 4], :nextjournal/value 2468472, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [0 1 5], :nextjournal/value 2498516, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [0 1 6], :nextjournal/value 2460059, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [0 1 7], :nextjournal/value 2404503, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [0 1 8], :nextjournal/value 2421207, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:pred #function+ \\\"clojure.core/sequential?\\\", :fn #function+ (partial v/coll-viewer {:open \\\"(\\\", :close \\\")\\\"}), :fetch-opts {:n 20}, :closing-parens (\\\")\\\")}}], :nextjournal/viewer {:pred #function+ \\\"clojure.core/map-entry?\\\", :name :map-entry, :fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [1], :nextjournal/value [{:path [1 0], :nextjournal/value :year, :nextjournal/viewer {:pred #function+ \\\"clojure.core/keyword?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [1 1], :nextjournal/value [{:path [1 1 0], :nextjournal/value 2011, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [1 1 1], :nextjournal/value 2012, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [1 1 2], :nextjournal/value 2013, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [1 1 3], :nextjournal/value 2014, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [1 1 4], :nextjournal/value 2015, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [1 1 5], :nextjournal/value 2016, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [1 1 6], :nextjournal/value 2017, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [1 1 7], :nextjournal/value 2018, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [1 1 8], :nextjournal/value 2019, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:pred #function+ \\\"clojure.core/sequential?\\\", :fn #function+ (partial v/coll-viewer {:open \\\"(\\\", :close \\\")\\\"}), :fetch-opts {:n 20}, :closing-parens (\\\")\\\" \\\"}\\\")}}], :nextjournal/viewer {:pred #function+ \\\"clojure.core/map-entry?\\\", :name :map-entry, :fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:pred #function+ \\\"clojure.core/map?--5429\\\", :name :map, :fn #function+ v/map-viewer, :fetch-opts {:n 10}}}\"}, :nextjournal/viewer :clerk/inline-result} {:nextjournal/value \"(def business-totals (->totals business))\", :nextjournal/viewer :code} {:nextjournal/value {:edn \"{:path [], :nextjournal/value [{:path [0], :nextjournal/value [{:path [0 0], :nextjournal/value :tonnes, :nextjournal/viewer {:pred #function+ \\\"clojure.core/keyword?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [0 1], :nextjournal/value [{:path [0 1 0], :nextjournal/value 4025735, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [0 1 1], :nextjournal/value 3639623, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [0 1 2], :nextjournal/value 3662431, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [0 1 3], :nextjournal/value 3310123, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [0 1 4], :nextjournal/value 3599053, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [0 1 5], :nextjournal/value 3263466, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [0 1 6], :nextjournal/value 3335632, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [0 1 7], :nextjournal/value 3236538, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:pred #function+ \\\"clojure.core/sequential?\\\", :fn #function+ (partial v/coll-viewer {:open \\\"(\\\", :close \\\")\\\"}), :fetch-opts {:n 20}, :closing-parens (\\\")\\\")}}], :nextjournal/viewer {:pred #function+ \\\"clojure.core/map-entry?\\\", :name :map-entry, :fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [1], :nextjournal/value [{:path [1 0], :nextjournal/value :year, :nextjournal/viewer {:pred #function+ \\\"clojure.core/keyword?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [1 1], :nextjournal/value [{:path [1 1 0], :nextjournal/value 2011, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [1 1 1], :nextjournal/value 2012, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [1 1 2], :nextjournal/value 2013, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [1 1 3], :nextjournal/value 2014, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [1 1 4], :nextjournal/value 2015, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [1 1 5], :nextjournal/value 2016, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [1 1 6], :nextjournal/value 2017, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [1 1 7], :nextjournal/value 2018, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:pred #function+ \\\"clojure.core/sequential?\\\", :fn #function+ (partial v/coll-viewer {:open \\\"(\\\", :close \\\")\\\"}), :fetch-opts {:n 20}, :closing-parens (\\\")\\\" \\\"}\\\")}}], :nextjournal/viewer {:pred #function+ \\\"clojure.core/map-entry?\\\", :name :map-entry, :fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:pred #function+ \\\"clojure.core/map?--5429\\\", :name :map, :fn #function+ v/map-viewer, :fetch-opts {:n 10}}}\"}, :nextjournal/viewer :clerk/inline-result} {:nextjournal/value \" ## 3. Apportion yearly percentages\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \" Combine the datasets so that percenatges can be calculate and apportioned.\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \"(def all-percentages\\n  (-> (tc/full-join household-totals business-totals :year)\\n      (tc/map-columns :year \\n                      [:year :right.year]\\n                      #(or %1 %2))\\n      (tc/map-columns :combined-tonnes \\n                      [:tonnes :right.tonnes] \\n                      #(when (and %1 %2) (+ %1 %2)))\\n      (tc/map-columns :household-percentage\\n                      [:tonnes :combined-tonnes] \\n                      #(when (and %1 %2) (* (/ %1 %2) 100)))\\n      (tc/map-columns :business-percentage\\n                      [:right.tonnes :combined-tonnes]\\n                      #(when (and %1 %2) (* (/ %1 %2) 100)))))\", :nextjournal/viewer :code} {:nextjournal/value {:edn \"{:path [], :nextjournal/value [{:path [0], :nextjournal/value [{:path [0 0], :nextjournal/value :business-percentage, :nextjournal/viewer {:pred #function+ \\\"clojure.core/keyword?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [0 1], :nextjournal/value [{:path [0 1 0], :nextjournal/value 100643375/1640558, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [0 1 1], :nextjournal/value 363962300/6085207, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [0 1 2], :nextjournal/value 14649724/243039, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [0 1 3], :nextjournal/value 1994050/34753, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [0 1 4], :nextjournal/value 14396212/242701, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [0 1 5], :nextjournal/value 163173300/2880991, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [0 1 6], :nextjournal/value 333563200/5795691, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [0 1 7], :nextjournal/value 107884600/1880347, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [0 1 8], :nextjournal/value nil, :nextjournal/viewer {:pred #function+ \\\"clojure.core/nil?\\\", :fn #function+ (fn [_] (v/html [:span.syntax-nil.inspected-value \\\"nil\\\"]))}}], :nextjournal/viewer {:pred #function+ \\\"clojure.core/sequential?\\\", :fn #function+ (partial v/coll-viewer {:open \\\"(\\\", :close \\\")\\\"}), :fetch-opts {:n 20}, :closing-parens (\\\")\\\")}}], :nextjournal/viewer {:pred #function+ \\\"clojure.core/map-entry?\\\", :name :map-entry, :fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [1], :nextjournal/value [{:path [1 0], :nextjournal/value :combined-tonnes, :nextjournal/viewer {:pred #function+ \\\"clojure.core/keyword?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [1 1], :nextjournal/value [{:path [1 1 0], :nextjournal/value 6562232, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [1 1 1], :nextjournal/value 6085207, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [1 1 2], :nextjournal/value 6075975, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [1 1 3], :nextjournal/value 5768998, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [1 1 4], :nextjournal/value 6067525, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [1 1 5], :nextjournal/value 5761982, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [1 1 6], :nextjournal/value 5795691, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [1 1 7], :nextjournal/value 5641041, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [1 1 8], :nextjournal/value nil, :nextjournal/viewer {:pred #function+ \\\"clojure.core/nil?\\\", :fn #function+ (fn [_] (v/html [:span.syntax-nil.inspected-value \\\"nil\\\"]))}}], :nextjournal/viewer {:pred #function+ \\\"clojure.core/sequential?\\\", :fn #function+ (partial v/coll-viewer {:open \\\"(\\\", :close \\\")\\\"}), :fetch-opts {:n 20}, :closing-parens (\\\")\\\")}}], :nextjournal/viewer {:pred #function+ \\\"clojure.core/map-entry?\\\", :name :map-entry, :fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [2], :nextjournal/value [{:path [2 0], :nextjournal/value :household-percentage, :nextjournal/viewer {:pred #function+ \\\"clojure.core/keyword?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [2 1], :nextjournal/value [{:path [2 1 0], :nextjournal/value 63412425/1640558, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [2 1 1], :nextjournal/value 244558400/6085207, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [2 1 2], :nextjournal/value 9654176/243039, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [2 1 3], :nextjournal/value 1481250/34753, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [2 1 4], :nextjournal/value 9873888/242701, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [2 1 5], :nextjournal/value 124925800/2880991, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [2 1 6], :nextjournal/value 246005900/5795691, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [2 1 7], :nextjournal/value 80150100/1880347, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [2 1 8], :nextjournal/value nil, :nextjournal/viewer {:pred #function+ \\\"clojure.core/nil?\\\", :fn #function+ (fn [_] (v/html [:span.syntax-nil.inspected-value \\\"nil\\\"]))}}], :nextjournal/viewer {:pred #function+ \\\"clojure.core/sequential?\\\", :fn #function+ (partial v/coll-viewer {:open \\\"(\\\", :close \\\")\\\"}), :fetch-opts {:n 20}, :closing-parens (\\\")\\\")}}], :nextjournal/viewer {:pred #function+ \\\"clojure.core/map-entry?\\\", :name :map-entry, :fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [3], :nextjournal/value [{:path [3 0], :nextjournal/value :right.tonnes, :nextjournal/viewer {:pred #function+ \\\"clojure.core/keyword?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [3 1], :nextjournal/value [{:path [3 1 0], :nextjournal/value 4025735, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [3 1 1], :nextjournal/value 3639623, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [3 1 2], :nextjournal/value 3662431, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [3 1 3], :nextjournal/value 3310123, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [3 1 4], :nextjournal/value 3599053, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [3 1 5], :nextjournal/value 3263466, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [3 1 6], :nextjournal/value 3335632, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [3 1 7], :nextjournal/value 3236538, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [3 1 8], :nextjournal/value nil, :nextjournal/viewer {:pred #function+ \\\"clojure.core/nil?\\\", :fn #function+ (fn [_] (v/html [:span.syntax-nil.inspected-value \\\"nil\\\"]))}}], :nextjournal/viewer {:pred #function+ \\\"clojure.core/sequential?\\\", :fn #function+ (partial v/coll-viewer {:open \\\"(\\\", :close \\\")\\\"}), :fetch-opts {:n 20}, :closing-parens (\\\")\\\")}}], :nextjournal/viewer {:pred #function+ \\\"clojure.core/map-entry?\\\", :name :map-entry, :fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [4], :nextjournal/value [{:path [4 0], :nextjournal/value :right.year, :nextjournal/viewer {:pred #function+ \\\"clojure.core/keyword?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [4 1], :nextjournal/value [{:path [4 1 0], :nextjournal/value 2011, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [4 1 1], :nextjournal/value 2012, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [4 1 2], :nextjournal/value 2013, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [4 1 3], :nextjournal/value 2014, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [4 1 4], :nextjournal/value 2015, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [4 1 5], :nextjournal/value 2016, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [4 1 6], :nextjournal/value 2017, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [4 1 7], :nextjournal/value 2018, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [4 1 8], :nextjournal/value nil, :nextjournal/viewer {:pred #function+ \\\"clojure.core/nil?\\\", :fn #function+ (fn [_] (v/html [:span.syntax-nil.inspected-value \\\"nil\\\"]))}}], :nextjournal/viewer {:pred #function+ \\\"clojure.core/sequential?\\\", :fn #function+ (partial v/coll-viewer {:open \\\"(\\\", :close \\\")\\\"}), :fetch-opts {:n 20}, :closing-parens (\\\")\\\")}}], :nextjournal/viewer {:pred #function+ \\\"clojure.core/map-entry?\\\", :name :map-entry, :fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [5], :nextjournal/value [{:path [5 0], :nextjournal/value :tonnes, :nextjournal/viewer {:pred #function+ \\\"clojure.core/keyword?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [5 1], :nextjournal/value [{:path [5 1 0], :nextjournal/value 2536497, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [5 1 1], :nextjournal/value 2445584, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [5 1 2], :nextjournal/value 2413544, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [5 1 3], :nextjournal/value 2458875, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [5 1 4], :nextjournal/value 2468472, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [5 1 5], :nextjournal/value 2498516, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [5 1 6], :nextjournal/value 2460059, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [5 1 7], :nextjournal/value 2404503, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [5 1 8], :nextjournal/value 2421207, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:pred #function+ \\\"clojure.core/sequential?\\\", :fn #function+ (partial v/coll-viewer {:open \\\"(\\\", :close \\\")\\\"}), :fetch-opts {:n 20}, :closing-parens (\\\")\\\")}}], :nextjournal/viewer {:pred #function+ \\\"clojure.core/map-entry?\\\", :name :map-entry, :fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [6], :nextjournal/value [{:path [6 0], :nextjournal/value :year, :nextjournal/viewer {:pred #function+ \\\"clojure.core/keyword?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [6 1], :nextjournal/value [{:path [6 1 0], :nextjournal/value 2011, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [6 1 1], :nextjournal/value 2012, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [6 1 2], :nextjournal/value 2013, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [6 1 3], :nextjournal/value 2014, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [6 1 4], :nextjournal/value 2015, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [6 1 5], :nextjournal/value 2016, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [6 1 6], :nextjournal/value 2017, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [6 1 7], :nextjournal/value 2018, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [6 1 8], :nextjournal/value 2019, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:pred #function+ \\\"clojure.core/sequential?\\\", :fn #function+ (partial v/coll-viewer {:open \\\"(\\\", :close \\\")\\\"}), :fetch-opts {:n 20}, :closing-parens (\\\")\\\" \\\"}\\\")}}], :nextjournal/viewer {:pred #function+ \\\"clojure.core/map-entry?\\\", :name :map-entry, :fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:pred #function+ \\\"clojure.core/map?--5429\\\", :name :map, :fn #function+ v/map-viewer, :fetch-opts {:n 10}}}\"}, :nextjournal/viewer :clerk/inline-result} {:nextjournal/value \" Segregate and simpify.\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \"(def household-percentages (-> all-percentages\\n                               (tc/select-columns #{:year :household-percentage})\\n                               (tc/rename-columns {:household-percentage :percentage})))\", :nextjournal/viewer :code} {:nextjournal/value {:edn \"{:path [], :nextjournal/value [{:path [0], :nextjournal/value [{:path [0 0], :nextjournal/value :percentage, :nextjournal/viewer {:pred #function+ \\\"clojure.core/keyword?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [0 1], :nextjournal/value [{:path [0 1 0], :nextjournal/value 63412425/1640558, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [0 1 1], :nextjournal/value 244558400/6085207, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [0 1 2], :nextjournal/value 9654176/243039, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [0 1 3], :nextjournal/value 1481250/34753, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [0 1 4], :nextjournal/value 9873888/242701, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [0 1 5], :nextjournal/value 124925800/2880991, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [0 1 6], :nextjournal/value 246005900/5795691, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [0 1 7], :nextjournal/value 80150100/1880347, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [0 1 8], :nextjournal/value nil, :nextjournal/viewer {:pred #function+ \\\"clojure.core/nil?\\\", :fn #function+ (fn [_] (v/html [:span.syntax-nil.inspected-value \\\"nil\\\"]))}}], :nextjournal/viewer {:pred #function+ \\\"clojure.core/sequential?\\\", :fn #function+ (partial v/coll-viewer {:open \\\"(\\\", :close \\\")\\\"}), :fetch-opts {:n 20}, :closing-parens (\\\")\\\")}}], :nextjournal/viewer {:pred #function+ \\\"clojure.core/map-entry?\\\", :name :map-entry, :fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [1], :nextjournal/value [{:path [1 0], :nextjournal/value :year, :nextjournal/viewer {:pred #function+ \\\"clojure.core/keyword?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [1 1], :nextjournal/value [{:path [1 1 0], :nextjournal/value 2011, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [1 1 1], :nextjournal/value 2012, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [1 1 2], :nextjournal/value 2013, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [1 1 3], :nextjournal/value 2014, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [1 1 4], :nextjournal/value 2015, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [1 1 5], :nextjournal/value 2016, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [1 1 6], :nextjournal/value 2017, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [1 1 7], :nextjournal/value 2018, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [1 1 8], :nextjournal/value 2019, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:pred #function+ \\\"clojure.core/sequential?\\\", :fn #function+ (partial v/coll-viewer {:open \\\"(\\\", :close \\\")\\\"}), :fetch-opts {:n 20}, :closing-parens (\\\")\\\" \\\"}\\\")}}], :nextjournal/viewer {:pred #function+ \\\"clojure.core/map-entry?\\\", :name :map-entry, :fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:pred #function+ \\\"clojure.core/map?--5429\\\", :name :map, :fn #function+ v/map-viewer, :fetch-opts {:n 10}}}\"}, :nextjournal/viewer :clerk/inline-result} {:nextjournal/value \"(def business-percentages (-> all-percentages\\n                              (tc/select-columns #{:year :business-percentage})\\n                              (tc/rename-columns {:business-percentage :percentage})))\", :nextjournal/viewer :code} {:nextjournal/value {:edn \"{:path [], :nextjournal/value [{:path [0], :nextjournal/value [{:path [0 0], :nextjournal/value :percentage, :nextjournal/viewer {:pred #function+ \\\"clojure.core/keyword?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [0 1], :nextjournal/value [{:path [0 1 0], :nextjournal/value 100643375/1640558, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [0 1 1], :nextjournal/value 363962300/6085207, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [0 1 2], :nextjournal/value 14649724/243039, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [0 1 3], :nextjournal/value 1994050/34753, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [0 1 4], :nextjournal/value 14396212/242701, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [0 1 5], :nextjournal/value 163173300/2880991, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [0 1 6], :nextjournal/value 333563200/5795691, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [0 1 7], :nextjournal/value 107884600/1880347, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [0 1 8], :nextjournal/value nil, :nextjournal/viewer {:pred #function+ \\\"clojure.core/nil?\\\", :fn #function+ (fn [_] (v/html [:span.syntax-nil.inspected-value \\\"nil\\\"]))}}], :nextjournal/viewer {:pred #function+ \\\"clojure.core/sequential?\\\", :fn #function+ (partial v/coll-viewer {:open \\\"(\\\", :close \\\")\\\"}), :fetch-opts {:n 20}, :closing-parens (\\\")\\\")}}], :nextjournal/viewer {:pred #function+ \\\"clojure.core/map-entry?\\\", :name :map-entry, :fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [1], :nextjournal/value [{:path [1 0], :nextjournal/value :year, :nextjournal/viewer {:pred #function+ \\\"clojure.core/keyword?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [1 1], :nextjournal/value [{:path [1 1 0], :nextjournal/value 2011, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [1 1 1], :nextjournal/value 2012, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [1 1 2], :nextjournal/value 2013, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [1 1 3], :nextjournal/value 2014, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [1 1 4], :nextjournal/value 2015, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [1 1 5], :nextjournal/value 2016, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [1 1 6], :nextjournal/value 2017, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [1 1 7], :nextjournal/value 2018, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [1 1 8], :nextjournal/value 2019, :nextjournal/viewer {:pred #function+ \\\"clojure.core/number?\\\", :fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:pred #function+ \\\"clojure.core/sequential?\\\", :fn #function+ (partial v/coll-viewer {:open \\\"(\\\", :close \\\")\\\"}), :fetch-opts {:n 20}, :closing-parens (\\\")\\\" \\\"}\\\")}}], :nextjournal/viewer {:pred #function+ \\\"clojure.core/map-entry?\\\", :name :map-entry, :fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:pred #function+ \\\"clojure.core/map?--5429\\\", :name :map, :fn #function+ v/map-viewer, :fetch-opts {:n 10}}}\"}, :nextjournal/viewer :clerk/inline-result} {:nextjournal/value \" ## 4. Plot in a graph for comparison\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \" Define a helper function that builds a plotline, from the data.\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \"(defn ->plotline [name colour totals percentages]\\n  {:name          name\\n   :x             (-> totals :year vec)\\n   :y             (-> totals :tonnes vec)\\n   :line          {:color colour :width 3}\\n   :customdata    (->> percentages \\n                       :percentage \\n                       (map #(if (nil? %) \\\"n/a\\\" (format \\\"%.1f%%\\\" (double %)))) \\n                       vec)\\n   :hovertemplate (str \\\"<b>\\\" name \\\"</b> (%{x})<br>\\\"\\n                       \\\"%{yaxis.title.text}: %{y}<br>\\\"\\n                       \\\"portion of total: %{customdata}<extra></extra>\\\")})\", :nextjournal/viewer :code} {:nextjournal/value {:edn \"{:path [], :nextjournal/value \\\"household-vs-business-waste/->plotline\\\", :nextjournal/viewer {:pred #function+ \\\"clojure.core/fn?\\\", :name :fn, :fn #function+ (fn [x] (v/html [:span.inspected-value [:span.syntax-tag \\\"#function\\\"] \\\"[\\\" x \\\"]\\\"]))}}\"}, :nextjournal/viewer :clerk/inline-result} {:nextjournal/value \" Display the graph.\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \"(v/plotly \\n {:data   [(->plotline \\\"household waste\\\" \\\"#C9A9A6\\\" household-totals household-percentages)\\n           (->plotline \\\"business waste\\\" \\\"#5b5a57\\\" business-totals business-percentages)]\\n           :layout {:title \\\"Household-vs-business wastes in Scotland\\\"\\n                    :height 400 :margin {:l 110 :b 40}\\n                    :xaxis {:title \\\"year\\\" :showgrid false :dtick 1}\\n                    :yaxis {:title \\\"tonnes\\\" :tickformat \\\",\\\" :rangemode \\\"tozero\\\"}\\n                    :legend {:traceorder \\\"reversed\\\"}\\n                    :plot_bgcolor \\\"#fff1e5\\\" :paper_bgcolor \\\"floralwhite\\\"}})\", :nextjournal/viewer :code} {:nextjournal/value {:edn \"{:path [], :nextjournal/value {:data [{:name \\\"household waste\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018 2019], :y [2536497 2445584 2413544 2458875 2468472 2498516 2460059 2404503 2421207], :line {:color \\\"#C9A9A6\\\", :width 3}, :customdata [\\\"38.7%\\\" \\\"40.2%\\\" \\\"39.7%\\\" \\\"42.6%\\\" \\\"40.7%\\\" \\\"43.4%\\\" \\\"42.4%\\\" \\\"42.6%\\\" \\\"n/a\\\"], :hovertemplate \\\"<b>household waste</b> (%{x})<br>%{yaxis.title.text}: %{y}<br>portion of total: %{customdata}<extra></extra>\\\"} {:name \\\"business waste\\\", :x [2011 2012 2013 2014 2015 2016 2017 2018], :y [4025735 3639623 3662431 3310123 3599053 3263466 3335632 3236538], :line {:color \\\"#5b5a57\\\", :width 3}, :customdata [\\\"61.3%\\\" \\\"59.8%\\\" \\\"60.3%\\\" \\\"57.4%\\\" \\\"59.3%\\\" \\\"56.6%\\\" \\\"57.6%\\\" \\\"57.4%\\\" \\\"n/a\\\"], :hovertemplate \\\"<b>business waste</b> (%{x})<br>%{yaxis.title.text}: %{y}<br>portion of total: %{customdata}<extra></extra>\\\"}], :layout {:title \\\"Household-vs-business wastes in Scotland\\\", :height 400, :margin {:l 110, :b 40}, :xaxis {:title \\\"year\\\", :showgrid false, :dtick 1}, :yaxis {:title \\\"tonnes\\\", :tickformat \\\",\\\", :rangemode \\\"tozero\\\"}, :legend {:traceorder \\\"reversed\\\"}, :plot_bgcolor \\\"#fff1e5\\\", :paper_bgcolor \\\"floralwhite\\\"}}, :nextjournal/viewer :plotly}\"}, :nextjournal/viewer :clerk/inline-result} {:nextjournal/value \" ## Concluding remarks\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \" The graph provides an at-a-glance-comparison between Scotland's households and businesses\\n in respect of the yearly amounts waste that they have generated during the last decade.\\n\\n The _household:business_ ratio has been very approximately _2:3_,\\n but waste from businesses has been reducing noticably over the decade.\\n\\n (Figures for business waste in 2019, haven't yet been released.)\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \" ## Source code\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \" The source code for this page is at:\\n [https://raw.githubusercontent.com/data-commons-scotland/dcs-literate-programming/master/src/household_vs_business_waste.clj](https://raw.githubusercontent.com/data-commons-scotland/dcs-literate-programming/master/src/household_vs_business_waste.clj)\\n\", :nextjournal/viewer :markdown}], :nextjournal/viewer :clerk/notebook, :scope {:namespace :household-vs-business-waste}}}")
app.init(docs)
</script></body></html>